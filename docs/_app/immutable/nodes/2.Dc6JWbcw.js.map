{"version":3,"file":"2.Dc6JWbcw.js","sources":["../../../../../../node_modules/svelte/src/runtime/internal/globals.js","../../../../../../node_modules/svelte/src/runtime/internal/each.js","../../../../../../node_modules/svelte/src/runtime/internal/spread.js","../../../../../../node_modules/@douganderson444/pointer-tracker/dist/PointerTracker.mjs","../../../../../../node_modules/nanoid/non-secure/index.js","../../../../../../src/lib/components/CursorMarker.svelte","../../../../../../node_modules/perfect-arrows/dist/perfect-arrows.esm.js","../../../../../../node_modules/svelte/src/runtime/motion/utils.js","../../../../../../node_modules/svelte/src/runtime/easing/index.js","../../../../../../node_modules/svelte/src/runtime/motion/tweened.js","../../../../../../src/lib/directives/clickOutside.js","../../../../../../src/lib/components/Link.svelte","../../../../../../src/lib/components/Links.svelte","../../../../../../src/lib/components/Highlighter.svelte","../../../../../../src/lib/utils.js","../../../../../../src/lib/constants.js","../../../../../../src/lib/components/Canvas.svelte","../../../../../../src/lib/components/EndPoint.svelte","../../../../../../src/lib/components/Delegate.svelte","../../../../../../src/lib/components/Skew.svelte","../../../../../../node_modules/svelte/src/runtime/transition/index.js","../../../../../../src/lib/components/Toast.svelte","../../../../../../src/lib/components/DemoDelegated.svelte","../../../../../../node_modules/pointer-tracker/dist/PointerTracker.mjs","../../../../../../node_modules/@douganderson444/panzoom-node/dist/pinchZoom.js","../../../../../../node_modules/@douganderson444/panzoom-node/dist/pzoom.js","../../../../../../src/lib/directives/grabable.js","../../../../../../src/routes/+page.svelte"],"sourcesContent":["/** @type {typeof globalThis} */\nexport const globals =\n\ttypeof window !== 'undefined'\n\t\t? window\n\t\t: typeof globalThis !== 'undefined'\n\t\t? globalThis\n\t\t: // @ts-ignore Node typings have this\n\t\t  global;\n","import { transition_in, transition_out } from './transitions.js';\nimport { run_all } from './utils.js';\n\n// general each functions:\n\nexport function ensure_array_like(array_like_or_iterator) {\n\treturn array_like_or_iterator?.length !== undefined\n\t\t? array_like_or_iterator\n\t\t: Array.from(array_like_or_iterator);\n}\n\n// keyed each functions:\n\n/** @returns {void} */\nexport function destroy_block(block, lookup) {\n\tblock.d(1);\n\tlookup.delete(block.key);\n}\n\n/** @returns {void} */\nexport function outro_and_destroy_block(block, lookup) {\n\ttransition_out(block, 1, 1, () => {\n\t\tlookup.delete(block.key);\n\t});\n}\n\n/** @returns {void} */\nexport function fix_and_destroy_block(block, lookup) {\n\tblock.f();\n\tdestroy_block(block, lookup);\n}\n\n/** @returns {void} */\nexport function fix_and_outro_and_destroy_block(block, lookup) {\n\tblock.f();\n\toutro_and_destroy_block(block, lookup);\n}\n\n/** @returns {any[]} */\nexport function update_keyed_each(\n\told_blocks,\n\tdirty,\n\tget_key,\n\tdynamic,\n\tctx,\n\tlist,\n\tlookup,\n\tnode,\n\tdestroy,\n\tcreate_each_block,\n\tnext,\n\tget_context\n) {\n\tlet o = old_blocks.length;\n\tlet n = list.length;\n\tlet i = o;\n\tconst old_indexes = {};\n\twhile (i--) old_indexes[old_blocks[i].key] = i;\n\tconst new_blocks = [];\n\tconst new_lookup = new Map();\n\tconst deltas = new Map();\n\tconst updates = [];\n\ti = n;\n\twhile (i--) {\n\t\tconst child_ctx = get_context(ctx, list, i);\n\t\tconst key = get_key(child_ctx);\n\t\tlet block = lookup.get(key);\n\t\tif (!block) {\n\t\t\tblock = create_each_block(key, child_ctx);\n\t\t\tblock.c();\n\t\t} else if (dynamic) {\n\t\t\t// defer updates until all the DOM shuffling is done\n\t\t\tupdates.push(() => block.p(child_ctx, dirty));\n\t\t}\n\t\tnew_lookup.set(key, (new_blocks[i] = block));\n\t\tif (key in old_indexes) deltas.set(key, Math.abs(i - old_indexes[key]));\n\t}\n\tconst will_move = new Set();\n\tconst did_move = new Set();\n\t/** @returns {void} */\n\tfunction insert(block) {\n\t\ttransition_in(block, 1);\n\t\tblock.m(node, next);\n\t\tlookup.set(block.key, block);\n\t\tnext = block.first;\n\t\tn--;\n\t}\n\twhile (o && n) {\n\t\tconst new_block = new_blocks[n - 1];\n\t\tconst old_block = old_blocks[o - 1];\n\t\tconst new_key = new_block.key;\n\t\tconst old_key = old_block.key;\n\t\tif (new_block === old_block) {\n\t\t\t// do nothing\n\t\t\tnext = new_block.first;\n\t\t\to--;\n\t\t\tn--;\n\t\t} else if (!new_lookup.has(old_key)) {\n\t\t\t// remove old block\n\t\t\tdestroy(old_block, lookup);\n\t\t\to--;\n\t\t} else if (!lookup.has(new_key) || will_move.has(new_key)) {\n\t\t\tinsert(new_block);\n\t\t} else if (did_move.has(old_key)) {\n\t\t\to--;\n\t\t} else if (deltas.get(new_key) > deltas.get(old_key)) {\n\t\t\tdid_move.add(new_key);\n\t\t\tinsert(new_block);\n\t\t} else {\n\t\t\twill_move.add(old_key);\n\t\t\to--;\n\t\t}\n\t}\n\twhile (o--) {\n\t\tconst old_block = old_blocks[o];\n\t\tif (!new_lookup.has(old_block.key)) destroy(old_block, lookup);\n\t}\n\twhile (n) insert(new_blocks[n - 1]);\n\trun_all(updates);\n\treturn new_blocks;\n}\n\n/** @returns {void} */\nexport function validate_each_keys(ctx, list, get_context, get_key) {\n\tconst keys = new Map();\n\tfor (let i = 0; i < list.length; i++) {\n\t\tconst key = get_key(get_context(ctx, list, i));\n\t\tif (keys.has(key)) {\n\t\t\tlet value = '';\n\t\t\ttry {\n\t\t\t\tvalue = `with value '${String(key)}' `;\n\t\t\t} catch (e) {\n\t\t\t\t// can't stringify\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`Cannot have duplicate keys in a keyed each: Keys at index ${keys.get(\n\t\t\t\t\tkey\n\t\t\t\t)} and ${i} ${value}are duplicates`\n\t\t\t);\n\t\t}\n\t\tkeys.set(key, i);\n\t}\n}\n","/** @returns {{}} */\nexport function get_spread_update(levels, updates) {\n\tconst update = {};\n\tconst to_null_out = {};\n\tconst accounted_for = { $$scope: 1 };\n\tlet i = levels.length;\n\twhile (i--) {\n\t\tconst o = levels[i];\n\t\tconst n = updates[i];\n\t\tif (n) {\n\t\t\tfor (const key in o) {\n\t\t\t\tif (!(key in n)) to_null_out[key] = 1;\n\t\t\t}\n\t\t\tfor (const key in n) {\n\t\t\t\tif (!accounted_for[key]) {\n\t\t\t\t\tupdate[key] = n[key];\n\t\t\t\t\taccounted_for[key] = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlevels[i] = n;\n\t\t} else {\n\t\t\tfor (const key in o) {\n\t\t\t\taccounted_for[key] = 1;\n\t\t\t}\n\t\t}\n\t}\n\tfor (const key in to_null_out) {\n\t\tif (!(key in update)) update[key] = undefined;\n\t}\n\treturn update;\n}\n\nexport function get_spread_object(spread_props) {\n\treturn typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n","class Pointer {\r\n    constructor(nativePointer) {\r\n        /** Unique ID for this pointer */\r\n        this.id = -1;\r\n        this.nativePointer = nativePointer;\r\n        this.pageX = nativePointer.pageX;\r\n        this.pageY = nativePointer.pageY;\r\n        this.clientX = nativePointer.clientX;\r\n        this.clientY = nativePointer.clientY;\r\n        if (self.Touch && nativePointer instanceof Touch) {\r\n            this.id = nativePointer.identifier;\r\n        }\r\n        else if (isPointerEvent(nativePointer)) {\r\n            // is PointerEvent\r\n            this.id = nativePointer.pointerId;\r\n        }\r\n    }\r\n    /**\r\n     * Returns an expanded set of Pointers for high-resolution inputs.\r\n     */\r\n    getCoalesced() {\r\n        if ('getCoalescedEvents' in this.nativePointer) {\r\n            const events = this.nativePointer\r\n                .getCoalescedEvents()\r\n                .map((p) => new Pointer(p));\r\n            // Firefox sometimes returns an empty list here. I'm not sure it's doing the right thing.\r\n            // https://github.com/w3c/pointerevents/issues/409\r\n            if (events.length > 0)\r\n                return events;\r\n            // Otherwise, Firefox falls through…\r\n        }\r\n        return [this];\r\n    }\r\n}\r\nconst isPointerEvent = (event) => 'pointerId' in event;\r\nconst isTouchEvent = (event) => 'changedTouches' in event;\r\nconst noop = () => { };\r\n/**\r\n * Track pointers across a particular element\r\n */\r\nclass PointerTracker {\r\n    /**\r\n     * Track pointers across a particular element\r\n     *\r\n     * @param element Element to monitor.\r\n     * @param options\r\n     */\r\n    constructor(_element, { start = () => true, move = noop, end = noop, rawUpdates = false, avoidPointerEvents = false, eventListenerOptions = { capture: false, passive: false, once: false }, } = {}) {\r\n        this._element = _element;\r\n        /**\r\n         * State of the tracked pointers when they were pressed/touched.\r\n         */\r\n        this.startPointers = [];\r\n        /**\r\n         * Latest state of the tracked pointers. Contains the same number of pointers, and in the same\r\n         * order as this.startPointers.\r\n         */\r\n        this.currentPointers = [];\r\n        /**\r\n         * Firefox has a bug where touch-based pointer events have a `buttons` of 0, when this shouldn't\r\n         * happen. https://bugzilla.mozilla.org/show_bug.cgi?id=1729440\r\n         *\r\n         * Usually we treat `buttons === 0` as no-longer-pressed. This set allows us to exclude these\r\n         * buggy Firefox events.\r\n         */\r\n        this._excludeFromButtonsCheck = new Set();\r\n        /**\r\n         * Listener for mouse/pointer starts.\r\n         *\r\n         * @param event This will only be a MouseEvent if the browser doesn't support pointer events.\r\n         */\r\n        this._pointerStart = (event) => {\r\n            if (isPointerEvent(event) && event.buttons === 0) {\r\n                // This is the buggy Firefox case. See _excludeFromButtonsCheck.\r\n                this._excludeFromButtonsCheck.add(event.pointerId);\r\n            }\r\n            else if (!(event.buttons & 1 /* LeftMouseOrTouchOrPenDown */)) {\r\n                return;\r\n            }\r\n            const pointer = new Pointer(event);\r\n            // If we're already tracking this pointer, ignore this event.\r\n            // This happens with mouse events when multiple buttons are pressed.\r\n            if (this.currentPointers.some((p) => p.id === pointer.id))\r\n                return;\r\n            if (!this._triggerPointerStart(pointer, event))\r\n                return;\r\n            // Add listeners for additional events.\r\n            // The listeners may already exist, but no harm in adding them again.\r\n            if (isPointerEvent(event)) {\r\n                const capturingElement = event.target && 'setPointerCapture' in event.target\r\n                    ? event.target\r\n                    : this._element;\r\n                capturingElement.setPointerCapture(event.pointerId);\r\n                this._element.addEventListener(this._rawUpdates ? 'pointerrawupdate' : 'pointermove', this._move, this._eventListenerOptions);\r\n                this._element.addEventListener('pointerup', this._pointerEnd, this._eventListenerOptions);\r\n                this._element.addEventListener('pointercancel', this._pointerEnd, this._eventListenerOptions);\r\n            }\r\n            else {\r\n                // MouseEvent\r\n                window.addEventListener('mousemove', this._move);\r\n                window.addEventListener('mouseup', this._pointerEnd);\r\n            }\r\n        };\r\n        /**\r\n         * Listener for touchstart.\r\n         * Only used if the browser doesn't support pointer events.\r\n         */\r\n        this._touchStart = (event) => {\r\n            for (const touch of Array.from(event.changedTouches)) {\r\n                this._triggerPointerStart(new Pointer(touch), event);\r\n            }\r\n        };\r\n        /**\r\n         * Listener for pointer/mouse/touch move events.\r\n         */\r\n        this._move = (event) => {\r\n            if (!isTouchEvent(event) &&\r\n                (!isPointerEvent(event) ||\r\n                    !this._excludeFromButtonsCheck.has(event.pointerId)) &&\r\n                event.buttons === 0 /* None */) {\r\n                // This happens in a number of buggy cases where the browser failed to deliver a pointerup\r\n                // or pointercancel. If we see the pointer moving without any buttons down, synthesize an end.\r\n                // https://github.com/w3c/pointerevents/issues/407\r\n                // https://github.com/w3c/pointerevents/issues/408\r\n                this._pointerEnd(event);\r\n                return;\r\n            }\r\n            const previousPointers = this.currentPointers.slice();\r\n            const changedPointers = isTouchEvent(event)\r\n                ? Array.from(event.changedTouches).map((t) => new Pointer(t))\r\n                : [new Pointer(event)];\r\n            const trackedChangedPointers = [];\r\n            for (const pointer of changedPointers) {\r\n                const index = this.currentPointers.findIndex((p) => p.id === pointer.id);\r\n                if (index === -1)\r\n                    continue; // Not a pointer we're tracking\r\n                trackedChangedPointers.push(pointer);\r\n                this.currentPointers[index] = pointer;\r\n            }\r\n            if (trackedChangedPointers.length === 0)\r\n                return;\r\n            this._moveCallback(previousPointers, trackedChangedPointers, event);\r\n        };\r\n        /**\r\n         * Call the end callback for this pointer.\r\n         *\r\n         * @param pointer Pointer\r\n         * @param event Related event\r\n         */\r\n        this._triggerPointerEnd = (pointer, event) => {\r\n            // Main button still down?\r\n            // With mouse events, you get a mouseup per mouse button, so the left button might still be down.\r\n            if (!isTouchEvent(event) &&\r\n                event.buttons & 1 /* LeftMouseOrTouchOrPenDown */) {\r\n                return false;\r\n            }\r\n            const index = this.currentPointers.findIndex((p) => p.id === pointer.id);\r\n            // Not a pointer we're interested in?\r\n            if (index === -1)\r\n                return false;\r\n            this.currentPointers.splice(index, 1);\r\n            this.startPointers.splice(index, 1);\r\n            this._excludeFromButtonsCheck.delete(pointer.id);\r\n            // The event.type might be a 'move' event due to workarounds for weird mouse behaviour.\r\n            // See _move for details.\r\n            const cancelled = !(event.type === 'mouseup' ||\r\n                event.type === 'touchend' ||\r\n                event.type === 'pointerup');\r\n            this._endCallback(pointer, event, cancelled);\r\n            return true;\r\n        };\r\n        /**\r\n         * Listener for mouse/pointer ends.\r\n         *\r\n         * @param event This will only be a MouseEvent if the browser doesn't support pointer events.\r\n         */\r\n        this._pointerEnd = (event) => {\r\n            if (!this._triggerPointerEnd(new Pointer(event), event))\r\n                return;\r\n            if (isPointerEvent(event)) {\r\n                if (this.currentPointers.length)\r\n                    return;\r\n                this._element.removeEventListener(this._rawUpdates ? 'pointerrawupdate' : 'pointermove', this._move);\r\n                this._element.removeEventListener('pointerup', this._pointerEnd);\r\n                this._element.removeEventListener('pointercancel', this._pointerEnd);\r\n            }\r\n            else {\r\n                // MouseEvent\r\n                window.removeEventListener('mousemove', this._move);\r\n                window.removeEventListener('mouseup', this._pointerEnd);\r\n            }\r\n        };\r\n        /**\r\n         * Listener for touchend.\r\n         * Only used if the browser doesn't support pointer events.\r\n         */\r\n        this._touchEnd = (event) => {\r\n            for (const touch of Array.from(event.changedTouches)) {\r\n                this._triggerPointerEnd(new Pointer(touch), event);\r\n            }\r\n        };\r\n        this._startCallback = start;\r\n        this._moveCallback = move;\r\n        this._endCallback = end;\r\n        this._rawUpdates = rawUpdates && 'onpointerrawupdate' in window;\r\n        this._eventListenerOptions = eventListenerOptions;\r\n        // Add listeners\r\n        if (self.PointerEvent && !avoidPointerEvents) {\r\n            this._element.addEventListener('pointerdown', this._pointerStart, this._eventListenerOptions);\r\n        }\r\n        else {\r\n            this._element.addEventListener('mousedown', this._pointerStart, this._eventListenerOptions);\r\n            this._element.addEventListener('touchstart', this._touchStart, this._eventListenerOptions);\r\n            this._element.addEventListener('touchmove', this._move, this._eventListenerOptions);\r\n            this._element.addEventListener('touchend', this._touchEnd, this._eventListenerOptions);\r\n            this._element.addEventListener('touchcancel', this._touchEnd, this._eventListenerOptions);\r\n        }\r\n    }\r\n    /**\r\n     * Remove all listeners.\r\n     */\r\n    stop() {\r\n        this._element.removeEventListener('pointerdown', this._pointerStart);\r\n        this._element.removeEventListener('mousedown', this._pointerStart);\r\n        this._element.removeEventListener('touchstart', this._touchStart);\r\n        this._element.removeEventListener('touchmove', this._move);\r\n        this._element.removeEventListener('touchend', this._touchEnd);\r\n        this._element.removeEventListener('touchcancel', this._touchEnd);\r\n        this._element.removeEventListener(this._rawUpdates ? 'pointerrawupdate' : 'pointermove', this._move);\r\n        this._element.removeEventListener('pointerup', this._pointerEnd);\r\n        this._element.removeEventListener('pointercancel', this._pointerEnd);\r\n        window.removeEventListener('mousemove', this._move);\r\n        window.removeEventListener('mouseup', this._pointerEnd);\r\n    }\r\n    /**\r\n     * Call the start callback for this pointer, and track it if the user wants.\r\n     *\r\n     * @param pointer Pointer\r\n     * @param event Related event\r\n     * @returns Whether the pointer is being tracked.\r\n     */\r\n    _triggerPointerStart(pointer, event) {\r\n        if (!this._startCallback(pointer, event))\r\n            return false;\r\n        this.currentPointers.push(pointer);\r\n        this.startPointers.push(pointer);\r\n        return true;\r\n    }\r\n}\n\nexport { PointerTracker as default };\n","let urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nexport let customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = ''\n    let i = size\n    while (i--) {\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\nexport let nanoid = (size = 21) => {\n  let id = ''\n  let i = size\n  while (i--) {\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\n","<script>\n\t// @ts-nocheck\n\n\texport let marker;\n\texport let id;\n\texport let left;\n\texport let top;\n\n\tlet offsetWidth;\n\tlet offsetHeight;\n\n\t$: x = left - offsetWidth / 2;\n\t$: y = top - offsetHeight / 2;\n</script>\n\n<div\n\tbind:this={marker}\n\t{id}\n\tclass=\"absolute\"\n\tstyle=\"left:{x}px; top:{y}px;\"\n\tbind:offsetWidth\n\tbind:offsetHeight\n>\n\t<slot>\n\t\t<div\n\t\t\tclass=\"h-4 w-4 p-8 rounded-full shadow-xl opacity-80 select-none border-[2em] border-pink-500/50\"\n\t\t/>\n\t</slot>\n</div>\n","var PI = Math.PI;\n/**\r\n * Modulate a value between two ranges.\r\n * @param value\r\n * @param rangeA from [low, high]\r\n * @param rangeB to [low, high]\r\n * @param clamp\r\n */\n\nfunction modulate(value, rangeA, rangeB, clamp) {\n  if (clamp === void 0) {\n    clamp = false;\n  }\n\n  var fromLow = rangeA[0],\n      fromHigh = rangeA[1];\n  var toLow = rangeB[0],\n      toHigh = rangeB[1];\n  var result = toLow + (value - fromLow) / (fromHigh - fromLow) * (toHigh - toLow);\n\n  if (clamp === true) {\n    if (toLow < toHigh) {\n      if (result < toLow) {\n        return toLow;\n      }\n\n      if (result > toHigh) {\n        return toHigh;\n      }\n    } else {\n      if (result > toLow) {\n        return toLow;\n      }\n\n      if (result < toHigh) {\n        return toHigh;\n      }\n    }\n  }\n\n  return result;\n}\n/**\r\n * Rotate a point around a center.\r\n * @param x The x-axis coordinate of the point.\r\n * @param y The y-axis coordinate of the point.\r\n * @param cx The x-axis coordinate of the point to rotate round.\r\n * @param cy The y-axis coordinate of the point to rotate round.\r\n * @param angle The distance (in radians) to rotate.\r\n */\n\nfunction rotatePoint(x, y, cx, cy, angle) {\n  var s = Math.sin(angle);\n  var c = Math.cos(angle);\n  var px = x - cx;\n  var py = y - cy;\n  var nx = px * c - py * s;\n  var ny = px * s + py * c;\n  return [nx + cx, ny + cy];\n}\n/**\r\n * Get the distance between two points.\r\n * @param x0 The x-axis coordinate of the first point.\r\n * @param y0 The y-axis coordinate of the first point.\r\n * @param x1 The x-axis coordinate of the second point.\r\n * @param y1 The y-axis coordinate of the second point.\r\n */\n\nfunction getDistance(x0, y0, x1, y1) {\n  return Math.hypot(y1 - y0, x1 - x0);\n}\n/**\r\n * Get an angle (radians) between two points.\r\n * @param x0 The x-axis coordinate of the first point.\r\n * @param y0 The y-axis coordinate of the first point.\r\n * @param x1 The x-axis coordinate of the second point.\r\n * @param y1 The y-axis coordinate of the second point.\r\n */\n\nfunction getAngle(x0, y0, x1, y1) {\n  return Math.atan2(y1 - y0, x1 - x0);\n}\n/**\r\n * Move a point in an angle by a distance.\r\n * @param x0\r\n * @param y0\r\n * @param a angle (radians)\r\n * @param d distance\r\n */\n\nfunction projectPoint(x0, y0, a, d) {\n  return [Math.cos(a) * d + x0, Math.sin(a) * d + y0];\n}\n/**\r\n * Get a point between two points.\r\n * @param x0 The x-axis coordinate of the first point.\r\n * @param y0 The y-axis coordinate of the first point.\r\n * @param x1 The x-axis coordinate of the second point.\r\n * @param y1 The y-axis coordinate of the second point.\r\n * @param d Normalized\r\n */\n\nfunction getPointBetween(x0, y0, x1, y1, d) {\n  if (d === void 0) {\n    d = 0.5;\n  }\n\n  return [x0 + (x1 - x0) * d, y0 + (y1 - y0) * d];\n}\n/**\r\n * Get the sector of an angle (e.g. quadrant, octant)\r\n * @param a The angle to check.\r\n * @param s The number of sectors to check.\r\n */\n\nfunction getSector(a, s) {\n  if (s === void 0) {\n    s = 8;\n  }\n\n  return Math.floor(s * (0.5 + a / (PI * 2) % s));\n}\n/**\r\n * Get a normal value representing how close two points are from being at a 45 degree angle.\r\n * @param x0 The x-axis coordinate of the first point.\r\n * @param y0 The y-axis coordinate of the first point.\r\n * @param x1 The x-axis coordinate of the second point.\r\n * @param y1 The y-axis coordinate of the second point.\r\n */\n\nfunction getAngliness(x0, y0, x1, y1) {\n  return Math.abs((x1 - x0) / 2 / ((y1 - y0) / 2));\n}\n/**\r\n * Check whether two rectangles will collide (overlap).\r\n * @param x0 The x-axis coordinate of the first rectangle.\r\n * @param y0 The y-axis coordinate of the first rectangle.\r\n * @param w0 The width of the first rectangle.\r\n * @param h0 The height of the first rectangle.\r\n * @param x1 The x-axis coordinate of the second rectangle.\r\n * @param y1 The y-axis coordinate of the second rectangle.\r\n * @param w1 The width of the second rectangle.\r\n * @param h1 The height of the second rectangle.\r\n */\n\nfunction doRectanglesCollide(x0, y0, w0, h0, x1, y1, w1, h1) {\n  return !(x0 >= x1 + w1 || x1 >= x0 + w0 || y0 >= y1 + h1 || y1 >= y0 + h0);\n}\n/**\r\n * Get the point(s) where a line segment intersects a circle.\r\n * @param cx The x-axis coordinate of the circle's center.\r\n * @param cy The y-axis coordinate of the circle's center.\r\n * @param r The circle's radius.\r\n * @param x0 The x-axis coordinate of the segment's starting point.\r\n * @param y0 The y-axis coordinate of ththe segment's ending point.\r\n * @param x1 The delta-x of the ray.\r\n * @param y1 The delta-y of the ray.\r\n */\n\nfunction getSegmentCircleIntersections(cx, cy, r, x0, y0, x1, y1) {\n  var b,\n      c,\n      d,\n      u1,\n      u2,\n      ret,\n      retP1,\n      retP2,\n      v1 = [x1 - x0, y1 - y0],\n      v2 = [x0 - cx, y0 - cy];\n  b = v1[0] * v2[0] + v1[1] * v2[1];\n  c = 2 * (v1[0] * v1[0] + v1[1] * v1[1]);\n  b *= -2;\n  d = Math.sqrt(b * b - 2 * c * (v2[0] * v2[0] + v2[1] * v2[1] - r * r));\n\n  if (isNaN(d)) {\n    // no intercept\n    return [];\n  }\n\n  u1 = (b - d) / c; // these represent the unit distance of point one and two on the line\n\n  u2 = (b + d) / c;\n  retP1 = []; // return points\n\n  retP2 = [];\n  ret = []; // return array\n\n  if (u1 <= 1 && u1 >= 0) {\n    // add point if on the line segment\n    retP1[0] = x0 + v1[0] * u1;\n    retP1[1] = y0 + v1[1] * u1;\n    ret[0] = retP1;\n  }\n\n  if (u2 <= 1 && u2 >= 0) {\n    // second add point if on the line segment\n    retP2[0] = x0 + v1[0] * u2;\n    retP2[1] = y0 + v1[1] * u2;\n    ret[ret.length] = retP2;\n  }\n\n  return ret;\n}\n/**\r\n * Normalize an angle (in radians)\r\n * @param radians The radians quantity to normalize.\r\n */\n\nfunction normalizeAngle(radians) {\n  return radians - PI * 2 * Math.floor(radians / (PI * 2));\n}\n/**\r\n * Get the point at which a ray intersects a segment.\r\n * @param x The x-axis coordinate of the ray's origin.\r\n * @param y The y-axis coordinate of the ray's origin.\r\n * @param dx The x-axis delta of the angle.\r\n * @param dy The y-axis delta of the angle.\r\n * @param x0 The x-axis coordinate of the segment's start point.\r\n * @param y0 The y-axis coordinate of the segment's start point.\r\n * @param x1 The x-axis coordinate of the segment's end point.\r\n * @param y1 The y-axis coordinate of the segment's end point.\r\n */\n\nfunction getRaySegmentIntersection(x, y, dx, dy, x0, y0, x1, y1) {\n  var r, s, d;\n\n  if (dy * (x1 - x0) !== dx * (y1 - y0)) {\n    d = dx * (y1 - y0) - dy * (x1 - x0);\n\n    if (d !== 0) {\n      r = ((y - y0) * (x1 - x0) - (x - x0) * (y1 - y0)) / d;\n      s = ((y - y0) * dx - (x - x0) * dy) / d;\n\n      if (r >= 0 && s >= 0 && s <= 1) {\n        return [x + r * dx, y + r * dy];\n      }\n    }\n  }\n\n  return undefined;\n}\n/**\r\n * Get the normalized delta (x and y) for an angle.\r\n * @param angle The angle in radians\r\n */\n\nfunction getDelta(angle) {\n  return [Math.cos(angle), Math.sin(angle)];\n}\nfunction getIntermediate(angle) {\n  return Math.abs(Math.abs(angle % (PI / 2)) - PI / 4) / (PI / 4);\n}\n/**\r\n * Get a line between two rounded rectangles.\r\n * @param x0\r\n * @param y0\r\n * @param w0\r\n * @param h0\r\n * @param r0\r\n * @param x1\r\n * @param y1\r\n * @param w1\r\n * @param h1\r\n * @param r1\r\n */\n\nfunction getLineBetweenRoundedRectangles(x0, y0, w0, h0, r0, x1, y1, w1, h1, r1) {\n  var cx0 = x0 + w0 / 2,\n      cy0 = y0 + h0 / 2,\n      cx1 = x1 + w1 / 2,\n      cy1 = y1 + h1 / 2,\n      _ref3 = getRayRoundedRectangleIntersection(cx0, cy0, cx1 - cx0, cy1 - cy0, x0, y0, w0, h0, r0) || [[cx0, cy0]],\n      _ref3$ = _ref3[0],\n      di0x = _ref3$[0],\n      di0y = _ref3$[1],\n      _ref4 = getRayRoundedRectangleIntersection(cx1, cy1, cx0 - cx1, cy0 - cy1, x1, y1, w1, h1, r1) || [[cx1, cy1]],\n      _ref4$ = _ref4[0],\n      di1x = _ref4$[0],\n      di1y = _ref4$[1];\n\n  return [di0x, di0y, di1x, di1y];\n}\n/**\r\n * Get the intersection points between a ray and a rectangle with rounded corners.\r\n * @param ox The x-axis coordinate of the ray's origin.\r\n * @param oy The y-axis coordinate of the ray's origin.\r\n * @param dx The delta-x of the ray.\r\n * @param dy The delta-y of the ray.\r\n * @param x The x-axis coordinate of the rectangle.\r\n * @param y The y-axis coordinate of the rectangle.\r\n * @param w The width of the rectangle.\r\n * @param h The height of the rectangle.\r\n * @param r The corner radius of the rectangle.\r\n */\n\nfunction getRayRoundedRectangleIntersection(ox, oy, dx, dy, x, y, w, h, r) {\n  var mx = x + w,\n      my = y + h,\n      rx = x + r - 1,\n      ry = y + r - 1,\n      mrx = x + w - r + 1,\n      mry = y + h - r + 1;\n  var segments = [[x, mry, x, ry], [rx, y, mrx, y], [mx, ry, mx, mry], [mrx, my, rx, my]];\n  var corners = [[rx, ry, Math.PI, Math.PI * 1.5], [mrx, ry, Math.PI * 1.5, Math.PI * 2], [mrx, mry, 0, Math.PI * 0.5], [rx, mry, Math.PI * 0.5, Math.PI]];\n  var points = [];\n  segments.forEach(function (segment, i) {\n    var px0 = segment[0],\n        py0 = segment[1],\n        px1 = segment[2],\n        py1 = segment[3];\n    var _corners$i2 = corners[i],\n        cx = _corners$i2[0],\n        cy = _corners$i2[1],\n        as = _corners$i2[2],\n        ae = _corners$i2[3];\n    var intersections = getRayCircleIntersection(cx, cy, r, ox, oy, dx, dy);\n    intersections && intersections.filter(function (pt) {\n      var pointAngle = normalizeAngle(getAngle(cx, cy, pt[0], pt[1]));\n      return pointAngle > as && pointAngle < ae;\n    }).forEach(function (pt) {\n      return points.push(pt);\n    });\n    var segmentInt = getRaySegmentIntersection(ox, oy, dx, dy, px0, py0, px1, py1);\n\n    if (!!segmentInt) {\n      points.push(segmentInt);\n    }\n  });\n  return points;\n}\nfunction getRectangleSegmentIntersectedByRay(x, y, w, h, ox, oy, dx, dy) {\n  return getRectangleSegments(x, y, w, h).find(function (_ref5) {\n    var sx0 = _ref5[0],\n        sy0 = _ref5[1],\n        sx1 = _ref5[2],\n        sy1 = _ref5[3];\n    return getRaySegmentIntersection(ox, oy, dx, dy, sx0, sy0, sx1, sy1);\n  });\n}\nfunction getRectangleSegments(x, y, w, h) {\n  return [[x, y, x + w, y], [x + w, y, x + w, y + h], [x + w, y + h, x, y + h], [x, y + h, x, y]];\n}\nfunction getRayCircleIntersection(cx, cy, r, ox, oy, dx, dy) {\n  // This is a shitty hack\n  return getSegmentCircleIntersections(cx, cy, r, ox, oy, dx * 999999, dy * 999999);\n}\n\n/**\r\n * getArrow\r\n * Get the points for a linking line between two points.\r\n * @description Draw an arrow between two points.\r\n * @param x0 The x position of the \"from\" point.\r\n * @param y0 The y position of the \"from\" point.\r\n * @param x1 The x position of the \"to\" point.\r\n * @param y1 The y position of the \"to\" point.\r\n * @param options Additional options for computing the line.\r\n * @returns [sx, sy, cx, cy, e1, e2, ae, as, ac]\r\n * @example\r\n * const arrow = getArrow(0, 0, 100, 200, {\r\n    bow: 0\r\n    stretch: .5\r\n    stretchMin: 0\r\n    stretchMax: 420\r\n    padStart: 0\r\n    padEnd: 0\r\n    flip: false\r\n    straights: true\r\n * })\r\n *\r\n * const [\r\n *  startX, startY,\r\n *  controlX, controlY,\r\n *  endX, endY,\r\n *  endAngle,\r\n *  startAngle,\r\n *  controlAngle\r\n *  ] = arrow\r\n */\n\nfunction getArrow(x0, y0, x1, y1, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$bow = _options.bow,\n      bow = _options$bow === void 0 ? 0 : _options$bow,\n      _options$stretch = _options.stretch,\n      stretch = _options$stretch === void 0 ? 0.5 : _options$stretch,\n      _options$stretchMin = _options.stretchMin,\n      stretchMin = _options$stretchMin === void 0 ? 0 : _options$stretchMin,\n      _options$stretchMax = _options.stretchMax,\n      stretchMax = _options$stretchMax === void 0 ? 420 : _options$stretchMax,\n      _options$padStart = _options.padStart,\n      padStart = _options$padStart === void 0 ? 0 : _options$padStart,\n      _options$padEnd = _options.padEnd,\n      padEnd = _options$padEnd === void 0 ? 0 : _options$padEnd,\n      _options$flip = _options.flip,\n      flip = _options$flip === void 0 ? false : _options$flip,\n      _options$straights = _options.straights,\n      straights = _options$straights === void 0 ? true : _options$straights;\n  var angle = getAngle(x0, y0, x1, y1);\n  var dist = getDistance(x0, y0, x1, y1);\n  var angliness = getAngliness(x0, y0, x1, y1); // Step 0 ⤜⤏ Should the arrow be straight?\n\n  if (dist < (padStart + padEnd) * 2 || bow === 0 && stretch === 0 || straights && [0, 1, Infinity].includes(angliness) // 45 degree angle\n  ) {\n    // ⤜⤏ Arrow is straight! Just pad start and end points.\n    // Padding distances\n    var ps = Math.max(0, Math.min(dist - padStart, padStart));\n    var pe = Math.max(0, Math.min(dist - ps, padEnd)); // Move start point toward end point\n\n    var _projectPoint = projectPoint(x0, y0, angle, ps),\n        _px = _projectPoint[0],\n        _py = _projectPoint[1]; // Move end point toward start point\n\n\n    var _projectPoint2 = projectPoint(x1, y1, angle + Math.PI, pe),\n        _px2 = _projectPoint2[0],\n        _py2 = _projectPoint2[1]; // Get midpoint between new points\n\n\n    var _getPointBetween = getPointBetween(_px, _py, _px2, _py2, 0.5),\n        _mx = _getPointBetween[0],\n        _my = _getPointBetween[1];\n\n    return [_px, _py, _mx, _my, _px2, _py2, angle, angle, angle];\n  } // ⤜⤏ Arrow is an arc!\n  // Is the arc clockwise or counterclockwise?\n\n\n  var rot = (getSector(angle) % 2 === 0 ? 1 : -1) * (flip ? -1 : 1); // Calculate how much the line should \"bow\" away from center\n\n  var arc = bow + modulate(dist, [stretchMin, stretchMax], [1, 0], true) * stretch; // Step 1 ⤜⤏ Find padded points.\n  // Get midpoint.\n\n  var _getPointBetween2 = getPointBetween(x0, y0, x1, y1, 0.5),\n      mx = _getPointBetween2[0],\n      my = _getPointBetween2[1]; // Get control point.\n\n\n  var _getPointBetween3 = getPointBetween(x0, y0, x1, y1, 0.5 - arc),\n      cx = _getPointBetween3[0],\n      cy = _getPointBetween3[1];\n\n  var _rotatePoint = rotatePoint(cx, cy, mx, my, Math.PI / 2 * rot);\n\n  cx = _rotatePoint[0];\n  cy = _rotatePoint[1];\n  // Get padded start point.\n  var a0 = getAngle(x0, y0, cx, cy);\n\n  var _projectPoint3 = projectPoint(x0, y0, a0, padStart),\n      px0 = _projectPoint3[0],\n      py0 = _projectPoint3[1]; // Get padded end point.\n\n\n  var a1 = getAngle(x1, y1, cx, cy);\n\n  var _projectPoint4 = projectPoint(x1, y1, a1, padEnd),\n      px1 = _projectPoint4[0],\n      py1 = _projectPoint4[1]; // Step 2  ⤜⤏ Find start and end angles.\n  // Start angle\n\n\n  var as = getAngle(cx, cy, x0, y0); // End angle\n\n  var ae = getAngle(cx, cy, x1, y1); // Step 3 ⤜⤏ Find control point for padded points.\n  // Get midpoint between padded start / end points.\n\n  var _getPointBetween4 = getPointBetween(px0, py0, px1, py1, 0.5),\n      mx1 = _getPointBetween4[0],\n      my1 = _getPointBetween4[1]; // Get control point for padded start / end points.\n\n\n  var _getPointBetween5 = getPointBetween(px0, py0, px1, py1, 0.5 - arc),\n      cx1 = _getPointBetween5[0],\n      cy1 = _getPointBetween5[1];\n\n  var _rotatePoint2 = rotatePoint(cx1, cy1, mx1, my1, Math.PI / 2 * rot);\n\n  cx1 = _rotatePoint2[0];\n  cy1 = _rotatePoint2[1];\n\n  // Finally, average the two control points.\n  var _getPointBetween6 = getPointBetween(cx, cy, cx1, cy1, 0.5),\n      cx2 = _getPointBetween6[0],\n      cy2 = _getPointBetween6[1];\n\n  return [px0, py0, cx2, cy2, px1, py1, ae, as, angle];\n}\n\nvar PI$1 = Math.PI;\nvar PI2 = PI$1 * 2;\nvar MIN_ANGLE = PI$1 / 24;\n/**\r\n * getArrowBetweenBoxes\r\n * Get the points for a linking line between two boxes.\r\n * @param x0 The x-axis coordinate of the first box.\r\n * @param y0 The y-axis coordinate of the first box.\r\n * @param w0 The width of the first box.\r\n * @param h0 The height of the first box.\r\n * @param x1 The x-axis coordinate of the second box.\r\n * @param y1 The y-axis coordinate of the second box.\r\n * @param w1 The width of the second box.\r\n * @param h1 The height of the second box.\r\n * @param options\r\n */\n\nfunction getBoxToBoxArrow(x0, y0, w0, h0, x1, y1, w1, h1, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var sx, sy, ex, ey;\n  var _options = options,\n      _options$bow = _options.bow,\n      bow = _options$bow === void 0 ? 0 : _options$bow,\n      _options$stretch = _options.stretch,\n      stretch = _options$stretch === void 0 ? 0.25 : _options$stretch,\n      _options$stretchMin = _options.stretchMin,\n      stretchMin = _options$stretchMin === void 0 ? 50 : _options$stretchMin,\n      _options$stretchMax = _options.stretchMax,\n      stretchMax = _options$stretchMax === void 0 ? 420 : _options$stretchMax,\n      _options$padStart = _options.padStart,\n      padStart = _options$padStart === void 0 ? 0 : _options$padStart,\n      _options$padEnd = _options.padEnd,\n      padEnd = _options$padEnd === void 0 ? 20 : _options$padEnd,\n      _options$flip = _options.flip,\n      flip = _options$flip === void 0 ? false : _options$flip,\n      _options$straights = _options.straights,\n      straights = _options$straights === void 0 ? true : _options$straights;\n  var px0 = x0 - padStart,\n      py0 = y0 - padStart,\n      pw0 = w0 + padStart * 2,\n      ph0 = h0 + padStart * 2,\n      px1 = x1 - padEnd,\n      py1 = y1 - padEnd,\n      pw1 = w1 + padEnd * 2,\n      ph1 = h1 + padEnd * 2,\n      cx0 = x0 + w0 / 2,\n      cy0 = y0 + h0 / 2,\n      cx1 = x1 + w1 / 2,\n      cy1 = y1 + h1 / 2; // Angle between centers\n\n  var angle = normalizeAngle(getAngle(cx0, cy0, cx1, cy1)); // Distance between centers\n\n  var distance = getDistance(cx0, cy0, cx1, cy1); // Perfect overlap, no arrow.\n\n  if (distance === 0) {\n    var _sx = cx0,\n        _sy = py0;\n    var _ex = cx1,\n        _ey = py1;\n\n    var _getPointBetween = getPointBetween(_sx, _sy, _ex, _ey, 0.5),\n        cx = _getPointBetween[0],\n        cy = _getPointBetween[1];\n\n    var ca = getAngle(_sx, _sy, _ex, _ey);\n    return [_sx, _sy, cx, cy, _ex, _ey, ca, ca, ca];\n  } // Rotation of the arrow, clockwise or anticlockwise\n\n\n  var rot = (getSector(angle) % 2 === 0 ? -1 : 1) * (flip ? -1 : 1); // How cardinal is the angle? 0 = 45deg, 1 = 90deg\n\n  var card = getIntermediate(angle);\n  if (card < 1 && card > 0.85) card = 0.99; // Are the boxes colliding / overlapping?\n\n  var isColliding = doRectanglesCollide(px0, py0, pw0, ph0, px1, py1, pw1, ph1); // Direct line between boxes\n\n  var _getLineBetweenRounde = getLineBetweenRoundedRectangles(px0, py0, pw0, ph0, padStart, px1, py1, pw1, ph1, padEnd),\n      dix0 = _getLineBetweenRounde[0],\n      diy0 = _getLineBetweenRounde[1],\n      dix1 = _getLineBetweenRounde[2],\n      diy1 = _getLineBetweenRounde[3]; // Length of the direct line between boxes\n\n\n  var distanceBetween = getDistance(dix0, diy0, dix1, diy1);\n  /* ------------- RETURN A STRAIGHT ARROW ------------ */\n  // Should we just draw a straight line?\n\n  if (!isColliding && straights && card % 0.5 === 0) {\n    var _getPointBetween2 = getPointBetween(dix0, diy0, dix1, diy1, 0.5),\n        mpdx = _getPointBetween2[0],\n        mpdy = _getPointBetween2[1];\n\n    return [dix0, diy0, mpdx, mpdy, dix1, diy1, angle, angle - PI$1, angle];\n  }\n  /* -------------- RETURN A CURVED ARROW ------------- */\n  // How much are the two boxes overlapping?\n\n\n  var overlapEffect = isColliding ? modulate(distanceBetween, [0, distance], [0, 1], true) : 0; // How far away are the two boxes?\n\n  var distEffect = 1 - distanceBetween / distance; // How much should the stretch impact the arc?\n\n  var stretchEffect = modulate(distanceBetween, [stretchMin, stretchMax], [1, 0], true); // What should the curved line's arc be?\n\n  var arc = bow + stretchEffect * stretch; // How much should the angle's intermediacy (45degree-ness) affect the angle?\n\n  var angleOffset = modulate(card * card, // a better curve here?\n  [0, 1], [PI$1 * 0.125, 0], true);\n  var distOffset = isColliding ? PI$1 * 0.5 * card : modulate(distEffect, // a better curve here?\n  [0.75, 1], [0, PI$1 * 0.5], true) * card;\n  var combinedOffset = distOffset + angleOffset * (isColliding ? 1 - overlapEffect : 1);\n  /* ----------------- STARTING POINT ----------------- */\n  // Angle of the first box\n\n  var finalAngle0 = overlapEffect >= 0.5 ? angle + PI$1 * rot : angle + Math.max(MIN_ANGLE, combinedOffset) * rot; // Deltas of starting angle\n\n  var _getDelta = getDelta(+(finalAngle0 % PI2).toPrecision(3)),\n      dx0 = _getDelta[0],\n      dy0 = _getDelta[1]; // Get ray intersection with rounded rectangle\n\n\n  var _getRayRoundedRectang = getRayRoundedRectangleIntersection(cx0, cy0, dx0, dy0, px0, py0, pw0, ph0, padStart),\n      _getRayRoundedRectang2 = _getRayRoundedRectang[0],\n      tsx = _getRayRoundedRectang2[0],\n      tsy = _getRayRoundedRectang2[1]; // Get midpoint of startingintersected segment\n\n\n  var startSeg = getRectangleSegmentIntersectedByRay(px0, py0, pw0, ph0, cx0, cy0, dx0, dy0);\n  if (!startSeg) throw Error; // Find start point (quarter way between segment midpoint and ray intersection)\n\n  var ssx0 = startSeg[0],\n      ssy0 = startSeg[1],\n      ssx1 = startSeg[2],\n      ssy1 = startSeg[3];\n\n  var _getPointBetween3 = getPointBetween(ssx0, ssy0, ssx1, ssy1, 0.5),\n      smpx = _getPointBetween3[0],\n      smpy = _getPointBetween3[1];\n\n  var _getPointBetween4 = getPointBetween(tsx, tsy, smpx, smpy, isColliding ? Math.max(overlapEffect, 0.15) : 0.15);\n\n  sx = _getPointBetween4[0];\n  sy = _getPointBetween4[1];\n  arc *= 1 + (Math.max(-2, Math.min(distEffect, 2)) * card - overlapEffect) / 2;\n\n  if (isColliding) {\n    arc = arc < 0 ? Math.min(arc, -0.5) : Math.max(arc, 0.5);\n  }\n  /* ------------------ ENDING POINT ------------------ */\n\n\n  if (overlapEffect >= 0.5) {\n    // If overlapping, use the same angle as the start\n    var rayAngle = getAngle(cx0, cy0, smpx, smpy);\n\n    var _getDelta2 = getDelta(rayAngle),\n        dx1 = _getDelta2[0],\n        dy1 = _getDelta2[1];\n\n    var _getRayRoundedRectang3 = getRayRoundedRectangleIntersection(cx1, cy1, dx1, dy1, px1, py1, pw1, ph1, padEnd);\n\n    var _getRayRoundedRectang4 = _getRayRoundedRectang3[0];\n    ex = _getRayRoundedRectang4[0];\n    ey = _getRayRoundedRectang4[1];\n  } else {\n    // Calculate an angle based on distance, overlap and intermediacy\n    var distOffset1 = modulate(distEffect, [0.75, 1], [0, 1], true);\n    var overlapEffect1 = isColliding ? modulate(overlapEffect, [0, 1], [0, PI$1 / 8], true) : 0;\n    var cardEffect1 = modulate(card * distOffset1, [0, 1], [0, PI$1 / 16], true);\n\n    var _combinedOffset = distEffect * (PI$1 / 12) + (cardEffect1 + overlapEffect1) + (distOffset + angleOffset) / 2;\n\n    var finalAngle1 = overlapEffect >= 0.5 ? angle + PI$1 * rot : angle + PI$1 - Math.max(_combinedOffset, MIN_ANGLE) * rot; // Deltas of ending angle\n\n    var _getDelta3 = getDelta(+(finalAngle1 % PI2).toPrecision(3)),\n        _dx = _getDelta3[0],\n        _dy = _getDelta3[1]; // Get ray intersection with ending rounded rectangle\n\n\n    var _getRayRoundedRectang5 = getRayRoundedRectangleIntersection(cx1, cy1, _dx, _dy, px1, py1, pw1, ph1, padEnd),\n        _getRayRoundedRectang6 = _getRayRoundedRectang5[0],\n        tex = _getRayRoundedRectang6[0],\n        tey = _getRayRoundedRectang6[1]; // Get midpoint of ending intersected segment\n\n\n    var endSeg = getRectangleSegmentIntersectedByRay(px1, py1, pw1, ph1, cx1, cy1, _dx, _dy);\n    if (!endSeg) throw Error;\n    var sex0 = endSeg[0],\n        sey0 = endSeg[1],\n        sex1 = endSeg[2],\n        sey1 = endSeg[3];\n\n    var _getPointBetween5 = getPointBetween(sex0, sey0, sex1, sey1, 0.5),\n        empx = _getPointBetween5[0],\n        empy = _getPointBetween5[1];\n\n    var _getPointBetween6 = getPointBetween(tex, tey, empx, empy, 0.25 + overlapEffect * 0.25);\n\n    ex = _getPointBetween6[0];\n    ey = _getPointBetween6[1];\n  }\n  /* ------------------- DRAW ARROWS ------------------ */\n  // Get midpoints.\n\n\n  var _getPointBetween7 = getPointBetween(sx, sy, ex, ey, 0.5),\n      mx1 = _getPointBetween7[0],\n      my1 = _getPointBetween7[1];\n\n  var _getPointBetween8 = getPointBetween(sx, sy, ex, ey, Math.max(-1, Math.min(1, 0.5 + arc)) // Clamped to 2\n  ),\n      tix = _getPointBetween8[0],\n      tiy = _getPointBetween8[1]; // Rotate them (these are our two potential corners)\n\n\n  var _rotatePoint = rotatePoint(tix, tiy, mx1, my1, PI$1 / 2 * rot),\n      cixA = _rotatePoint[0],\n      ciyA = _rotatePoint[1];\n\n  var _rotatePoint2 = rotatePoint(tix, tiy, mx1, my1, PI$1 / 2 * -rot),\n      cixB = _rotatePoint2[0],\n      ciyB = _rotatePoint2[1]; // If we're colliding, pick the furthest corner from the end point.\n\n\n  var _ref = isColliding && getDistance(cixA, ciyA, cx1, cy1) < getDistance(cixB, ciyB, cx1, cy1) ? [cixB, ciyB] : [cixA, ciyA],\n      cix = _ref[0],\n      ciy = _ref[1]; // Start and end angles\n\n\n  var as = getAngle(cix, ciy, sx, sy);\n  var ae = getAngle(cix, ciy, ex, ey);\n  return [sx, sy, cix, ciy, ex, ey, ae, as, getAngle(sx, sy, ex, ey)];\n}\n\nexport { getArrow, getBoxToBoxArrow };\n//# sourceMappingURL=perfect-arrows.esm.js.map\n","/**\n * @param {any} obj\n * @returns {boolean}\n */\nexport function is_date(obj) {\n\treturn Object.prototype.toString.call(obj) === '[object Date]';\n}\n","/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nexport { identity as linear } from '../internal/index.js';\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backInOut(t) {\n\tconst s = 1.70158 * 1.525;\n\tif ((t *= 2) < 1) return 0.5 * (t * t * ((s + 1) * t - s));\n\treturn 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backIn(t) {\n\tconst s = 1.70158;\n\treturn t * t * ((s + 1) * t - s);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backOut(t) {\n\tconst s = 1.70158;\n\treturn --t * t * ((s + 1) * t + s) + 1;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceOut(t) {\n\tconst a = 4.0 / 11.0;\n\tconst b = 8.0 / 11.0;\n\tconst c = 9.0 / 10.0;\n\tconst ca = 4356.0 / 361.0;\n\tconst cb = 35442.0 / 1805.0;\n\tconst cc = 16061.0 / 1805.0;\n\tconst t2 = t * t;\n\treturn t < a\n\t\t? 7.5625 * t2\n\t\t: t < b\n\t\t? 9.075 * t2 - 9.9 * t + 3.4\n\t\t: t < c\n\t\t? ca * t2 - cb * t + cc\n\t\t: 10.8 * t * t - 20.52 * t + 10.72;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceInOut(t) {\n\treturn t < 0.5 ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0)) : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceIn(t) {\n\treturn 1.0 - bounceOut(1.0 - t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circInOut(t) {\n\tif ((t *= 2) < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1);\n\treturn 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circIn(t) {\n\treturn 1.0 - Math.sqrt(1.0 - t * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circOut(t) {\n\treturn Math.sqrt(1 - --t * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicInOut(t) {\n\treturn t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicIn(t) {\n\treturn t * t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicOut(t) {\n\tconst f = t - 1.0;\n\treturn f * f * f + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticInOut(t) {\n\treturn t < 0.5\n\t\t? 0.5 * Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) * Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n\t\t: 0.5 *\n\t\t\t\tMath.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n\t\t\t\tMath.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n\t\t\t\t1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticIn(t) {\n\treturn Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticOut(t) {\n\treturn Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoInOut(t) {\n\treturn t === 0.0 || t === 1.0\n\t\t? t\n\t\t: t < 0.5\n\t\t? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n\t\t: -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoIn(t) {\n\treturn t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoOut(t) {\n\treturn t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadInOut(t) {\n\tt /= 0.5;\n\tif (t < 1) return 0.5 * t * t;\n\tt--;\n\treturn -0.5 * (t * (t - 2) - 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadIn(t) {\n\treturn t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadOut(t) {\n\treturn -t * (t - 2.0);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartInOut(t) {\n\treturn t < 0.5 ? +8.0 * Math.pow(t, 4.0) : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartIn(t) {\n\treturn Math.pow(t, 4.0);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartOut(t) {\n\treturn Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintInOut(t) {\n\tif ((t *= 2) < 1) return 0.5 * t * t * t * t * t;\n\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintIn(t) {\n\treturn t * t * t * t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintOut(t) {\n\treturn --t * t * t * t * t + 1;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineInOut(t) {\n\treturn -0.5 * (Math.cos(Math.PI * t) - 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineIn(t) {\n\tconst v = Math.cos(t * Math.PI * 0.5);\n\tif (Math.abs(v) < 1e-14) return 1;\n\telse return 1 - v;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineOut(t) {\n\treturn Math.sin((t * Math.PI) / 2);\n}\n","import { writable } from '../store/index.js';\nimport { assign, loop, now } from '../internal/index.js';\nimport { linear } from '../easing/index.js';\nimport { is_date } from './utils.js';\n\n/** @returns {(t: any) => any} */\nfunction get_interpolator(a, b) {\n\tif (a === b || a !== a) return () => a;\n\tconst type = typeof a;\n\tif (type !== typeof b || Array.isArray(a) !== Array.isArray(b)) {\n\t\tthrow new Error('Cannot interpolate values of different type');\n\t}\n\tif (Array.isArray(a)) {\n\t\tconst arr = b.map((bi, i) => {\n\t\t\treturn get_interpolator(a[i], bi);\n\t\t});\n\t\treturn (t) => arr.map((fn) => fn(t));\n\t}\n\tif (type === 'object') {\n\t\tif (!a || !b) throw new Error('Object cannot be null');\n\t\tif (is_date(a) && is_date(b)) {\n\t\t\ta = a.getTime();\n\t\t\tb = b.getTime();\n\t\t\tconst delta = b - a;\n\t\t\treturn (t) => new Date(a + t * delta);\n\t\t}\n\t\tconst keys = Object.keys(b);\n\t\tconst interpolators = {};\n\t\tkeys.forEach((key) => {\n\t\t\tinterpolators[key] = get_interpolator(a[key], b[key]);\n\t\t});\n\t\treturn (t) => {\n\t\t\tconst result = {};\n\t\t\tkeys.forEach((key) => {\n\t\t\t\tresult[key] = interpolators[key](t);\n\t\t\t});\n\t\t\treturn result;\n\t\t};\n\t}\n\tif (type === 'number') {\n\t\tconst delta = b - a;\n\t\treturn (t) => a + t * delta;\n\t}\n\tthrow new Error(`Cannot interpolate ${type} values`);\n}\n\n/**\n * A tweened store in Svelte is a special type of store that provides smooth transitions between state values over time.\n *\n * https://svelte.dev/docs/svelte-motion#tweened\n * @template T\n * @param {T} [value]\n * @param {import('./private.js').TweenedOptions<T>} [defaults]\n * @returns {import('./public.js').Tweened<T>}\n */\nexport function tweened(value, defaults = {}) {\n\tconst store = writable(value);\n\t/** @type {import('../internal/private.js').Task} */\n\tlet task;\n\tlet target_value = value;\n\t/**\n\t * @param {T} new_value\n\t * @param {import('./private.js').TweenedOptions<T>} [opts]\n\t */\n\tfunction set(new_value, opts) {\n\t\tif (value == null) {\n\t\t\tstore.set((value = new_value));\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\ttarget_value = new_value;\n\t\tlet previous_task = task;\n\t\tlet started = false;\n\t\tlet {\n\t\t\tdelay = 0,\n\t\t\tduration = 400,\n\t\t\teasing = linear,\n\t\t\tinterpolate = get_interpolator\n\t\t} = assign(assign({}, defaults), opts);\n\t\tif (duration === 0) {\n\t\t\tif (previous_task) {\n\t\t\t\tprevious_task.abort();\n\t\t\t\tprevious_task = null;\n\t\t\t}\n\t\t\tstore.set((value = target_value));\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\tconst start = now() + delay;\n\t\tlet fn;\n\t\ttask = loop((now) => {\n\t\t\tif (now < start) return true;\n\t\t\tif (!started) {\n\t\t\t\tfn = interpolate(value, new_value);\n\t\t\t\tif (typeof duration === 'function') duration = duration(value, new_value);\n\t\t\t\tstarted = true;\n\t\t\t}\n\t\t\tif (previous_task) {\n\t\t\t\tprevious_task.abort();\n\t\t\t\tprevious_task = null;\n\t\t\t}\n\t\t\tconst elapsed = now - start;\n\t\t\tif (elapsed > /** @type {number} */ (duration)) {\n\t\t\t\tstore.set((value = new_value));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// @ts-ignore\n\t\t\tstore.set((value = fn(easing(elapsed / duration))));\n\t\t\treturn true;\n\t\t});\n\t\treturn task.promise;\n\t}\n\treturn {\n\t\tset,\n\t\tupdate: (fn, opts) => set(fn(target_value, value), opts),\n\t\tsubscribe: store.subscribe\n\t};\n}\n","export function clickOutside(node, { enabled: initialEnabled, handleUnselect }) {\n\tconst handleOutsideClick = ({ target }) => {\n\t\tif (node !== target && node.parentElement != target.parentElement && !node.contains(target)) {\n\t\t\thandleUnselect();\n\t\t}\n\t};\n\n\tfunction update({ enabled }) {\n\t\tif (enabled) {\n\t\t\twindow.addEventListener('click', handleOutsideClick);\n\t\t} else {\n\t\t\twindow.removeEventListener('click', handleOutsideClick);\n\t\t}\n\t}\n\n\tupdate({ enabled: initialEnabled });\n\treturn {\n\t\tupdate,\n\t\tdestroy() {\n\t\t\twindow.removeEventListener('click', handleOutsideClick);\n\t\t}\n\t};\n}\n","<script>\n\t// @ts-nocheck\n\t// https://github.com/Rich-Harris/svelte-d3-arc-demo/blob/master/src/Viz.svelte\n\t// https://github.com/d3/d3-shape/blob/v3.1.0/README.md#_link\n\n\timport { onMount, createEventDispatcher } from 'svelte';\n\timport { getBoxToBoxArrow } from 'perfect-arrows';\n\timport { tweened } from 'svelte/motion';\n\timport { clickOutside } from '../directives/clickOutside';\n\n\texport let link;\n\texport let scale;\n\n\texport let strokeColor = link?.strokeColor;\n\texport let strokeWidth = 1;\n\texport let arrowColor = 'green';\n\texport let strokeOpacity = '0.3';\n\texport let groupStrokeOpacity = '0.1';\n\texport let groupStrokeColor = 'white';\n\texport let textStartOffset = 20; // %\n\n\tconst dispatch = createEventDispatcher();\n\n\tlet initialStrokeWidth = strokeWidth;\n\n\tlet stroke;\n\tlet selected = false;\n\tlet mounted = false;\n\n\tonMount(() => {\n\t\tmounted = true;\n\t});\n\n\tlet d, pointer;\n\tlet options = {\n\t\tbow: 0.05,\n\t\tstretch: 0.5,\n\t\tstretchMin: 10,\n\t\tstretchMax: 200,\n\t\tpadStart: 0,\n\t\tpadEnd: 15,\n\t\tflip: false,\n\t\tstraights: true\n\t};\n\tlet x0, y0, w0, h0, x1, y1, w1, h1;\n\tlet sx, sy, cx, cy, ex, ey, ae, as, ac;\n\n\t$: if (link) genArrow(link);\n\n\tfunction genArrow(link) {\n\t\tlet sourceEl = document.getElementById(link.source.id);\n\t\tlet targetEl = document.getElementById(link.target.id);\n\t\t// get closest data-canvas to source and target\n\t\tlet canvasEl = sourceEl.closest('[data-canvas]');\n\n\t\tif (!sourceEl || !targetEl) return;\n\n\t\tlet source = getCoords(sourceEl);\n\t\tlet target = getCoords(targetEl);\n\t\tlet canvas = getCoords(canvasEl);\n\n\t\tx0 = (source.left - canvas.left) / scale;\n\t\ty0 = (source.top - canvas.top) / scale;\n\t\tx1 = (target.left - canvas.left) / scale;\n\t\ty1 = (target.top - canvas.top) / scale;\n\n\t\tw0 = (source.right - source.left) / scale;\n\t\th0 = (source.bottom - source.top) / scale;\n\t\tw1 = (target.right - target.left) / scale;\n\t\th1 = (target.bottom - target.top) / scale;\n\n\t\tconst arrow = getBoxToBoxArrow(x0, y0, w0, h0, x1, y1, w1, h1, options);\n\t\t[sx, sy, cx, cy, ex, ey, ae, as, ac] = arrow;\n\n\t\td = `M${sx},${sy} Q${cx},${cy} ${ex},${ey}`;\n\t\tlet endAngleAsDegrees = ae * (180 / Math.PI);\n\t\tpointer = `translate(${ex},${ey}) rotate(${endAngleAsDegrees})`;\n\t}\n\n\t// Get document coordinates of an element\n\tfunction getCoords(elem) {\n\t\tlet box = elem.getBoundingClientRect();\n\n\t\treturn {\n\t\t\ttop: box.top + window.pageYOffset,\n\t\t\tright: box.right + window.pageXOffset,\n\t\t\tbottom: box.bottom + window.pageYOffset,\n\t\t\tleft: box.left + window.pageXOffset\n\t\t};\n\t}\n\tfunction handleMouseOver(e) {\n\t\tselected = true;\n\t\tstrokeWidth = initialStrokeWidth * 20; // jump\n\t}\n\tfunction handleMouseOut(e) {\n\t\tstroke = tweened(strokeWidth, {\n\t\t\tduration: 1000\n\t\t});\n\t\t$stroke = initialStrokeWidth; // shrink\n\t}\n\n\tfunction handleUnselect(e) {\n\t\tselected = false;\n\t}\n\n\t$: if ($stroke > initialStrokeWidth) {\n\t\tstrokeWidth = $stroke;\n\t}\n</script>\n\n{#if link && mounted}\n\t<g stroke={groupStrokeColor} stroke-opacity={groupStrokeOpacity}>\n\t\t<path\n\t\t\tstyle=\"pointer-events: stroke; user-select: none; outline: none;\"\n\t\t\t{d}\n\t\t\tid={link.id}\n\t\t\tstroke-width={strokeWidth}\n\t\t\tstroke={strokeColor}\n\t\t\tfill=\"none\"\n\t\t\tstroke-linecap=\"round\"\n\t\t\tstroke-opacity={strokeOpacity}\n\t\t\tstroke-dasharray=\"4\"\n\t\t\ton:click={() => (selected = !selected)}\n\t\t\ton:keypress={() => (selected = !selected)}\n\t\t\ton:mouseover={handleMouseOver}\n\t\t\ton:mouseout={handleMouseOut}\n\t\t\ton:focus={handleMouseOver}\n\t\t\ton:blur={handleMouseOut}\n\t\t\tuse:clickOutside={{ enabled: selected, handleUnselect }}\n\t\t/>\n\t\t<!-- Always have text left to right (English) -->\n\t\t{#if sx < ex}\n\t\t\t<text>\n\t\t\t\t<textPath xlink:href=\"#{link.id}\" startOffset={textStartOffset + '%'}>\n\t\t\t\t\t<tspan fill=\"black\">{link?.opts?.label?.enabled ? link?.opts?.label?.value : ''}</tspan>\n\t\t\t\t</textPath>\n\t\t\t</text>\n\t\t{:else}\n\t\t\t<text x={cx} y={cy}>\n\t\t\t\t<tspan fill=\"black\">{link?.opts?.label?.enabled ? link?.opts?.label?.value : ''}</tspan>\n\t\t\t</text>\n\t\t{/if}\n\t\t<!-- Optional endpoint Components -->\n\t\t<slot name=\"startPoint\" {sx} {sy} {ex} {ey} {as}>\n\t\t\t<!-- default to plain circle -->\n\t\t\t<circle cx={sx} cy={sy} r={4} />\n\t\t</slot>\n\t\t<slot name=\"endPoint\" {sx} {sy} {ex} {ey} {pointer}>\n\t\t\t<!-- Default if no named slot endPoint included in Parent component -->\n\t\t\t{#if pointer}\n\t\t\t\t<!-- Arrow Pointer -->\n\t\t\t\t<polygon points=\"0,-6 12,0, 0,6\" transform={pointer} fill={arrowColor} />\n\t\t\t{/if}\n\t\t</slot>\n\t\t{#if selected}\n\t\t\t<!-- Draw an unfilled svg circle -->\n\t\t\t<circle cx={ex} cy={ey} r={12} fill=\"none\" stroke=\"blue\" />\n\t\t\t<!-- Draw a red delete \"x\" at cx, cy with stroke opacity 0.6-->\n\t\t\t<foreignObject\n\t\t\t\tstyle=\"overflow: visible; pointer-events: auto; position: relative;\"\n\t\t\t\tx={cx}\n\t\t\t\ty={cy}\n\t\t\t\twidth=\"1\"\n\t\t\t\theight=\"1\"\n\t\t\t\t><slot name=\"deleteButton\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ton:click={() => dispatch('removeLink', link.id)}\n\t\t\t\t\t\tstyle=\"font-family: 'Luckiest Guy'; width: fit-content; height: fit-content;\n\t\t\t\t\tcolor: rgb(239 68 68); font-size: 1.5em; user-select: none; outline: none;\"\n\t\t\t\t\t\tstyle:transform=\"translate(180deg)\"\n\t\t\t\t\t>\n\t\t\t\t\t\tX\n\t\t\t\t\t</button>\n\t\t\t\t</slot>\n\t\t\t</foreignObject>\n\t\t{/if}\n\t</g>\n{/if}\n\n<style>\n\ttext {\n\t\tfont-family: arrows;\n\t\tfont-size: 1.5em;\n\t\tfill: grey;\n\t\tdominant-baseline: central;\n\t}\n\n\ttspan {\n\t\tfont-family: 'Luckiest Guy', cursive;\n\t\tfont-size: 0.5em;\n\t\t/* font-family: Impact; */\n\t\tdominant-baseline: ideographic;\n\t}\n\n\t/* @font-face {\n\t\tfont-family: arrows;\n\t\tsrc: url(arrows.woff);\n\t} */\n\n\t@font-face {\n\t\tfont-family: 'Luckiest Guy';\n\t\tfont-style: normal;\n\t\tfont-weight: 400;\n\t\tsrc: url(https://fonts.gstatic.com/s/luckiestguy/v17/_gP_1RrxsjcxVyin9l9n_j2hTd52.woff2)\n\t\t\tformat('woff2');\n\t\tunicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,\n\t\t\tU+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n\t}\n</style>\n","<script>\n\t// @ts-nocheck\n\n\t// https://github.com/Rich-Harris/svelte-d3-arc-demo/blob/master/src/Viz.svelte\n\t// https://github.com/d3/d3-shape/blob/v3.1.0/README.md#_link\n\timport { onMount } from 'svelte';\n\timport Link from './Link.svelte';\n\n\texport let links;\n\texport let scale;\n\n\t// some defaults\n\texport let strokeColor = 'currentColor';\n\texport let strokeWidth = 1;\n\texport let arrowColor = 'currentColor';\n\n\texport let strokeOpacity = '0.3';\n\n\texport let groupStrokeOpacity = '0.1';\n\texport let groupStrokeColor = 'white';\n\n\texport let textStartOffset = 20; // %\n\n\tlet mounted;\n\n\tonMount(() => {\n\t\tmounted = true;\n\t});\n</script>\n\n{#if mounted && links && links.length > 0}\n\t<svg style=\"pointer-events: none; overflow: visible;\">\n\t\t{#each links as link (link.id)}\n\t\t\t{#if link && mounted}\n\t\t\t\t<Link\n\t\t\t\t\t{link}\n\t\t\t\t\t{strokeColor}\n\t\t\t\t\t{strokeWidth}\n\t\t\t\t\t{arrowColor}\n\t\t\t\t\t{strokeOpacity}\n\t\t\t\t\t{groupStrokeOpacity}\n\t\t\t\t\t{groupStrokeColor}\n\t\t\t\t\t{textStartOffset}\n\t\t\t\t\t{scale}\n\t\t\t\t\ton:removeLink\n\t\t\t\t>\n\t\t\t\t\t<svelte:fragment slot=\"startPoint\" let:sx let:sy let:ex let:ey let:as>\n\t\t\t\t\t\t{#if link?.source?.startPoint?.component}\n\t\t\t\t\t\t\t<!-- foreignObject alows us to put HTML inside an SVG element -->\n\t\t\t\t\t\t\t<foreignObject\n\t\t\t\t\t\t\t\tstyle:overflow=\"visible\"\n\t\t\t\t\t\t\t\tstyle:position=\"relative\"\n\t\t\t\t\t\t\t\tstyle:pointer-events=\"auto\"\n\t\t\t\t\t\t\t\tx={sx}\n\t\t\t\t\t\t\t\ty={sy}\n\t\t\t\t\t\t\t\twidth=\"1\"\n\t\t\t\t\t\t\t\theight=\"1\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svelte:component this={link.source.startPoint.component} {sx} {sy} {as} />\n\t\t\t\t\t\t\t</foreignObject>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<!-- default to plain circle -->\n\t\t\t\t\t\t\t<circle cx={sx} cy={sy} r={4} />\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</svelte:fragment>\n\t\t\t\t\t<svelte:fragment slot=\"endPoint\" let:sx let:sy let:ex let:ey let:as let:pointer>\n\t\t\t\t\t\t{#if link?.source?.endPoint?.component}\n\t\t\t\t\t\t\t<!-- foreignObject alows us to put HTML inside an SVG element -->\n\t\t\t\t\t\t\t<foreignObject\n\t\t\t\t\t\t\t\tclass=\"overflow-visible pointer-events-auto relative\"\n\t\t\t\t\t\t\t\tx={sx}\n\t\t\t\t\t\t\t\ty={sy}\n\t\t\t\t\t\t\t\twidth=\"1\"\n\t\t\t\t\t\t\t\theight=\"1\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svelte:component this={link.source.endPoint.component} {sx} {sy} {ex} {ey} {as} />\n\t\t\t\t\t\t\t</foreignObject>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<!-- Default if no named slot endPoint included in Parent component -->\n\t\t\t\t\t\t\t{#if pointer}\n\t\t\t\t\t\t\t\t<!-- Arrow Pointer -->\n\t\t\t\t\t\t\t\t<polygon points=\"0,-6 12,0, 0,6\" transform={pointer} fill={arrowColor} />\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</svelte:fragment>\n\t\t\t\t</Link>\n\t\t\t{/if}\n\t\t{/each}\n\t</svg>\n{/if}\n\n<style>\n\tsvg {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tfloat: left;\n\t\tstroke-width: 5;\n\t\t/* z-index: -1; */\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tpointer-events: stroke;\n\t}\n</style>\n","<script>\n\t// @ts-nocheck\n\n\texport let node;\n\texport let zoneSize = 2;\n\texport let highlight = false; // export makes it possible to set externally from the touch listener\n\n\tlet dot;\n\n\t// OVERLAY on center of parent node\n\t$: top = dot ? -dot.offsetHeight / 2 + node.offsetHeight / 2 : 0;\n\t$: left = dot ? -dot.offsetWidth / 2 + node.offsetWidth / 2 : 0;\n\n\t// move the dot underneath the node its highlighting in the DOM, so events bubble easily\n\t$: if (dot) node.insertAdjacentElement('beforeend', dot);\n\n\t// if node has a z-index, set dot z-index minus one so it's below the node, if node has no z-index, set it to 2\n\t// $: if (dot) dot.style.zIndex = node.style.zIndex - 1;\n</script>\n\n<svelte:window\n\ton:resize={(e) => {\n\t\ttop = top;\n\t\tleft = left;\n\t}}\n/>\n\n<!-- Need to get the position of the node that was passed in\n    then set this style to same as node -->\n\n<div\n\tid={node.id + '--highlighter'}\n\tdata-highlighter=\"true\"\n\tclass=\"absolute\n\tborder-[{zoneSize + 'em'}] \n\tmd:border-[{zoneSize / 2 + 'em'}] \n\tborder-transparent rounded-full p-0 m-0 \"\n\tstyle=\"top: {top}px; left: {left}px;\"\n\tbind:this={dot}\n\ton:mouseover={(e) => {\n\t\thighlight = true; // actually this is redundant because overHighlighter in Canvas.svelte, but it's here for clarity\n\t}}\n\ton:mouseleave={(e) => {\n\t\thighlight = false;\n\t}}\n\ton:focus={(e) => {\n\t\thighlight = true;\n\t}}\n\ton:blur={(e) => {\n\t\thighlight = false;\n\t}}\n>\n\t{#if highlight}\n\t\t<slot>\n\t\t\t<div\n\t\t\t\tstyle=\"transform: translate(-50%, -50%);\"\n\t\t\t\tclass=\"absolute \n\t\t\t\tborder-[{zoneSize + 'em'}] \n\t\t\t\tmd:border-[{zoneSize / 2 + 'em'}] \n\t\t\t\tborder-yellow-200/40 ring-2 ring-black h-0 w-0 rounded-full\"\n\t\t\t/>\n\t\t</slot>\n\t{/if}\n</div>\n","// get data nodes value from matching node.id\nexport const generateLinkLabel = (nodes, sourceID, targetID = false) => {\n\tif (!nodes) return '';\n\tconst match = nodes.find((el) => el.id == sourceID);\n\tif (!match || !match.value) return '';\n\tif (!targetID) return match.value + ' to';\n\n\tconst match2 = nodes.find((el) => el.id == targetID);\n\tif (!match2) return match.value;\n\treturn `${match.value} to ${match2.value}`;\n};\n","export const MARKER = 'marker';\nexport const CANVAS = 'canvas';\nexport const DROPZONE = 'connectabledropzone';\nexport const DELEGATOR = 'connectdelegator';\n","<script>\n\t// @ts-nocheck\n\n\t// Data update Event options:\n\t/**\n\t * 1. dispatch event to Parent\n\t * 2. dispatch event to node via directive\n\t * 3. bind the data through a prop\n\t */\n\timport { createEventDispatcher } from 'svelte';\n\timport PointerTracker from '@douganderson444/pointer-tracker';\n\timport { nanoid } from 'nanoid/non-secure';\n\n\timport CursorMarker from './CursorMarker.svelte';\n\timport Links from './Links.svelte';\n\timport Highlighter from './Highlighter.svelte';\n\timport { generateLinkLabel } from '../utils.js';\n\timport { DROPZONE, MARKER } from '../constants.js';\n\n\texport let data;\n\texport let scale = 1;\n\texport let opts = {};\n\n\tconst dispatch = createEventDispatcher();\n\n\tlet highlighters = {};\n\n\tlet canvas;\n\tlet connecting;\n\tlet marker = null;\n\tlet tempLink = null; // connecting, temp link from node to marker\n\n\tlet left = 0;\n\tlet top = 0;\n\n\tfunction connectable(node, options) {\n\t\tif (!node.id) node.id = nanoid();\n\n\t\t// set `data-no-pan` to true to disable panning on this node using panzoom-node, https://www.npmjs.com/package/@douganderson444/panzoom-node\n\t\tif (!node.dataset.noPan) node.dataset.noPan = true;\n\n\t\t// source id can be either data-sourceid or node.id\n\t\tlet sourceid = node?.dataset?.sourceid ? node?.dataset?.sourceid : node.id;\n\n\t\t// TODO: Handle absolute nodes, create a relative child?\n\t\tif (\n\t\t\t!node.style.position ||\n\t\t\t(node.style.position !== 'absolute' && node.style.position !== 'relative')\n\t\t)\n\t\t\tnode.style.position = 'relative';\n\n\t\tlet highlight = false;\n\t\tlet overZone;\n\n\t\t// add to list of nodes to highlight when connecting\n\t\thighlighters[sourceid] = { node, highlight };\n\n\t\t// Applying Restrictions\n\t\t// limit source count (single, multiples), target count, etc. # of connections per connectable\n\t\tlet pointerTracker;\n\t\tlet startPoint;\n\n\t\t// if there is a startPoint, then add that to the nodeElement\n\t\tif (options?.startPoint?.component) {\n\t\t\t// startPoint is a svelte component which is mounted to the node as target\n\t\t\t// and is used to start the connection\n\t\t\tstartPoint = new options.startPoint.component({\n\t\t\t\ttarget: node,\n\t\t\t\tprops: {\n\t\t\t\t\tshow: options.startPoint?.show || true\n\t\t\t\t}\n\t\t\t});\n\t\t\tstartPoint.$on('ready', (event) => createPointerTracker(node, event.detail.handle));\n\t\t\tstartPoint.$set({ mounted: true }); // trigger the event fire to the listener above\n\t\t} else {\n\t\t\t// if no startPoint, then add the whole node as the startPoint\n\t\t\tcreatePointerTracker(node);\n\t\t}\n\n\t\t// Add data-* attriutes to connectable node\n\t\tif (options?.dataset) node.dataset.dataset = JSON.stringify(options.dataset);\n\n\t\tif (!options?.restrictions?.startOnly) node.dataset[DROPZONE] = true;\n\n\t\tfunction createPointerTracker(node, handle = false) {\n\t\t\tif (!options?.restrictions?.dropOnly) {\n\t\t\t\tpointerTracker = new PointerTracker(node, {\n\t\t\t\t\tstart(pointer, event) {\n\t\t\t\t\t\t// track only 1 pointer at a time\n\t\t\t\t\t\tif (pointerTracker.currentPointers.length >= 1) return false;\n\n\t\t\t\t\t\t// if (options?.startPoint) constrain connectable to only this child element\n\t\t\t\t\t\tif (options?.startPoint && event.target !== handle && !handle.contains(event.target))\n\t\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t\tconnecting = true;\n\t\t\t\t\t\tevent.stopPropagation(); // affect this event target only, not the ones below it\n\t\t\t\t\t\tevent.preventDefault(); // prevents scrolling whilst dragging\n\n\t\t\t\t\t\tleft = (pointer.pageX - canvas.getBoundingClientRect().left - window.scrollX) / scale;\n\t\t\t\t\t\ttop = (pointer.pageY - canvas.getBoundingClientRect().top - window.scrollY) / scale;\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t},\n\t\t\t\t\tmove(previousPointers, changedPointers, event) {\n\t\t\t\t\t\tevent.stopPropagation(); // afftect this event target only, not the ones below it\n\t\t\t\t\t\tevent.preventDefault(); // prevents scrolling whilst dragging\n\t\t\t\t\t\tleft =\n\t\t\t\t\t\t\tleft + (pointerTracker.currentPointers[0].pageX - previousPointers[0].pageX) / scale;\n\t\t\t\t\t\ttop =\n\t\t\t\t\t\t\ttop + (pointerTracker.currentPointers[0].pageY - previousPointers[0].pageY) / scale;\n\n\t\t\t\t\t\ttempLink = {\n\t\t\t\t\t\t\tid: sourceid + '-to-',\n\t\t\t\t\t\t\tsource: { id: sourceid, startPoint: options?.startPoint || false },\n\t\t\t\t\t\t\ttarget: { id: MARKER },\n\t\t\t\t\t\t\topts: {\n\t\t\t\t\t\t\t\tlabel: {\n\t\t\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\t\t\tvalue: generateLinkLabel(data?.nodes, sourceid)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// unhightlight prev\n\t\t\t\t\t\tif (overZone) highlighters[overZone.id].highlight = false;\n\n\t\t\t\t\t\t// simulate mouseover for mobile\n\t\t\t\t\t\toverZone =\n\t\t\t\t\t\t\tdocument\n\t\t\t\t\t\t\t\t.elementFromPoint(\n\t\t\t\t\t\t\t\t\tpointerTracker.currentPointers[0].clientX,\n\t\t\t\t\t\t\t\t\tpointerTracker.currentPointers[0].clientY\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t?.closest(`[data-${DROPZONE}]`) || null;\n\n\t\t\t\t\t\tif (overZone?.id) {\n\t\t\t\t\t\t\thighlighters[overZone.id].highlight = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tend: (pointer, event, cancelled) => {\n\t\t\t\t\t\tmarker.style.display = 'none'; // so elementFromPoint gets what is underneath instead\n\t\t\t\t\t\t// marker = null; // this may be overkill?\n\n\t\t\t\t\t\tconnecting = false;\n\n\t\t\t\t\t\t// reset\n\t\t\t\t\t\tif (highlighters && overZone && overZone.id && highlighters[overZone.id].highlight) {\n\t\t\t\t\t\t\thighlighters[overZone.id].highlight = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\toverZone = null;\n\n\t\t\t\t\t\t// get closest drop zone target\n\t\t\t\t\t\tlet drop = document.elementFromPoint(pointer.clientX, pointer.clientY);\n\t\t\t\t\t\tlet zone = drop?.closest(`[data-${DROPZONE}]`);\n\n\t\t\t\t\t\t// remove temp tempLink\n\t\t\t\t\t\ttempLink = null;\n\n\t\t\t\t\t\tif (!zone || !zone?.id || !node || !node?.id) return;\n\n\t\t\t\t\t\t// if data.links already contains this link.id, return\n\t\t\t\t\t\tif (data?.links?.find((link) => link?.id === sourceid + '-to-' + zone.id)) return;\n\n\t\t\t\t\t\t// ensure sourceid is not the same as targetid\n\t\t\t\t\t\tif (sourceid === zone.id) return;\n\n\t\t\t\t\t\t// update links\n\t\t\t\t\t\tconst newLink = {\n\t\t\t\t\t\t\tid: sourceid + '-to-' + zone.id,\n\t\t\t\t\t\t\tsource: { id: sourceid, startPoint: options?.startPoint || false },\n\t\t\t\t\t\t\ttarget: { id: zone.id },\n\t\t\t\t\t\t\topts: {\n\t\t\t\t\t\t\t\tlabel: {\n\t\t\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\t\t\tvalue: generateLinkLabel(data?.nodes, sourceid, zone.id)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tdata.links = [...data.links, newLink];\n\n\t\t\t\t\t\t// emit data via event\n\t\t\t\t\t\tif (options?.dataset || zone?.dataset?.dataset) {\n\t\t\t\t\t\t\tconst detail = {\n\t\t\t\t\t\t\t\tsource: { dataset: options?.dataset || null },\n\t\t\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t\t\tdataset: zone?.dataset?.dataset ? JSON.parse(zone.dataset.dataset) : null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tdispatch('connected', detail);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tavoidPointerEvents: true, // mkaes mobile work better\n\t\t\t\t\teventListenerOptions: {\n\t\t\t\t\t\tcapture: true, // capture the event and stop stopPropagation, so it doesn't bubble up to the parent\n\t\t\t\t\t\tpassive: false\n\t\t\t\t\t} // passive: false if no need to evt.preventDefault\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tupdate(params) {\n\t\t\t\t// the value of `params` has changed\n\t\t\t\toptions = params;\n\t\t\t\tif (startPoint) startPoint.$set({ show: options?.startPoint?.show || true }); // default to true if no show value is passed\n\t\t\t},\n\n\t\t\tdestroy() {\n\t\t\t\t// the node has been removed from the DOM\n\t\t\t\tpointerTracker?.stop();\n\t\t\t\tif (startPoint) startPoint.$destroy();\n\t\t\t}\n\t\t};\n\t}\n\n\tconst removeLink = (e) => (data.links = data.links.filter((l) => l.id !== e.detail));\n</script>\n\n<svelte:window\n\ton:resize={(e) => {\n\t\tdata.links = data.links;\n\t}}\n/>\n\n<div bind:this={canvas} data-canvas style:position=\"relative\" style:height={'100%'}>\n\t{#if connecting}\n\t\t<!-- Show where the mouse/touch pointer is -->\n\t\t<CursorMarker bind:marker {left} {top} id={MARKER}>\n\t\t\t<slot name=\"marker\">\n\t\t\t\t<!-- Default cursor indicator marker below can be overriden in Parent Component slot -->\n\t\t\t\t<div\n\t\t\t\t\tclass=\"h-4 w-4 md:h-16 md:w-16 p-8 rounded-full shadow-xl opacity-80 select-none border-[1em] md:border-[1em]\"\n\t\t\t\t/>\n\t\t\t</slot>\n\t\t</CursorMarker>\n\t{/if}\n\n\t{#if canvas && connectable}\n\t\t<!-- The area where the connectable directive may be used (the \"let: connectable\" area) -->\n\t\t<slot {connectable} />\n\t{/if}\n\n\t<!-- TODO: Tempoary Link while connecting -->\n\t{#if tempLink}\n\t\t<Links links={[tempLink]} {...opts?.links} {scale} />\n\t{/if}\n\t<!-- All connected links (\"permanent\") -->\n\t{#if data?.links && data.links.length > 0}\n\t\t<Links links={data.links} {...opts?.links} {scale} on:removeLink={removeLink} />\n\t{/if}\n\n\t<!-- highlighters -->\n\t{#each [...Object.entries(highlighters)] as [nodeid, { node, highlight }]}\n\t\t<Highlighter {node} {highlight} />\n\t{/each}\n</div>\n\n<style lang=\"postcss\"></style>\n","<script>\n\t// @ts-nocheck\n\texport let position = 'right';\n\texport let connectable;\n\texport let options = {};\n\n\tlet dot;\n\tlet offsetHeight, offsetWidth, parentHeight;\n\n\t$: if (dot) {\n\t\t// ensire parentNdoe of dot is position relative\n\t\t// otherwsier, absolute positioning of dot will be relative to the window\n\t\tdot.parentNode.style.position = 'relative';\n\n\t\tparentHeight = dot.parentNode.offsetHeight;\n\t\t// parentHeight = dot.parentNode.getBoundingClientRect().height;\n\t}\n\n\t$: top = parentHeight && offsetHeight ? parentHeight / 2 - offsetHeight / 2 : 0;\n\t$: right = offsetWidth ? -offsetWidth / 2 : 0;\n\t$: left = offsetWidth ? -offsetWidth / 2 : 0;\n</script>\n\n<svelte:window\n\ton:resize={(e) => {\n\t\ttop = top;\n\t\tleft = left;\n\t\tright = right;\n\t}}\n/>\n\n<div\n\tbind:this={dot}\n\tbind:offsetWidth\n\tbind:offsetHeight\n\tclass=\"flex absolute EndPoint\"\n\tstyle=\"top: {top}px;  {position == 'right' ? `right: ${right}px;` : `left: ${left}px;`}\"\n>\n\t<div use:connectable={options} class=\"relative\">\n\t\t<slot>\n\t\t\t<!-- Default styling of the actual endpoint -->\n\t\t\t<div\n\t\t\t\tclass=\"flex h-4 w-4 border-2 bg-blue-500 rounded-full border-blue-300 hover:ring hover:ring-blue-800\"\n\t\t\t/>\n\t\t</slot>\n\t</div>\n</div>\n\n<style lang=\"postcss\"></style>\n","<svelte:options accessors={true} />\n\n<script>\n\t// @ts-nocheck\n\n\t// The delegated start point component is on the top right hand side of the parent element\n\timport { createEventDispatcher } from 'svelte';\n\n\texport let sx = null; // starting x\n\texport let sy = null; // starting y\n\texport let ex = null; // ending x\n\texport let ey = null;\n\texport let as = null; // angle start\n\n\texport let mounted = false;\n\texport let show = true; // boolean toggle whether to show the resizer handle or not\n\n\tlet handle; // bind this var to your custom handle\n\tlet offsetWidth;\n\n\tconst dispatch = createEventDispatcher();\n\n\tlet x = 0;\n\tlet y = 0;\n\n\t$: if (mounted && handle && handle?.parentNode?.offsetWidth) {\n\t\tx = handle?.parentNode.offsetWidth; // initialize position to far right corner\n\t\tdispatch('ready', { handle }); // let the parent know we're ready to track\n\t}\n\n\t$: y = handle && as > 0 ? -handle?.offsetHeight : 0; // above if on top\n\t$: if (handle && handle.style && !!as) {\n\t\tif (as < 0.6 && as > -0.6) {\n\t\t\thandle.style.transform = `translate(-100%, 0)`;\n\t\t\thandle.style.right = null;\n\t\t} else {\n\t\t\thandle.style.transform = null;\n\t\t}\n\t}\n</script>\n\n{#if show}\n\t<div\n\t\tbind:this={handle}\n\t\tbind:offsetWidth\n\t\tstyle=\"position: absolute; right: 0px; top:{y}px; user-select: none; cursor: pointer; font-family: monospace; padding: 0.25rem\"\n\t>\n\t\t<slot {sx} {sy} {ex} {ey} {as} {x} {y}\n\t\t\t>Connect→\n\t\t\t<!-- {as.toFixed(1) || 0}° @ {x.toFixed(0)}, {y.toFixed(0)} -->\n\t\t</slot>\n\t</div>\n{/if}\n","<script lang=\"ts\">\n\texport let color: string = 'pink';\n\n\tlet green = `before:bg-green-500/50 text-black `;\n\tlet pink = 'before:bg-pink-500 text-white';\n</script>\n\n<span\n\tclass=\"{color == 'pink'\n\t\t? pink\n\t\t: green} before:inline-block before:absolute before:-inset-1 before:-skew-y-3 relative inline-block\"\n\t><span class=\"relative pr-1\"><slot /></span>\n</span>\n","import { cubicOut, cubicInOut, linear } from '../easing/index.js';\nimport { assign, split_css_unit, is_function } from '../internal/index.js';\n\n/**\n * Animates a `blur` filter alongside an element's opacity.\n *\n * https://svelte.dev/docs/svelte-transition#blur\n * @param {Element} node\n * @param {import('./public').BlurParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function blur(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst f = style.filter === 'none' ? '' : style.filter;\n\tconst od = target_opacity * (1 - opacity);\n\tconst [value, unit] = split_css_unit(amount);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_t, u) => `opacity: ${target_opacity - od * u}; filter: ${f} blur(${u * value}${unit});`\n\t};\n}\n\n/**\n * Animates the opacity of an element from 0 to the current opacity for `in` transitions and from the current opacity to 0 for `out` transitions.\n *\n * https://svelte.dev/docs/svelte-transition#fade\n * @param {Element} node\n * @param {import('./public').FadeParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n\tconst o = +getComputedStyle(node).opacity;\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t) => `opacity: ${t * o}`\n\t};\n}\n\n/**\n * Animates the x and y positions and the opacity of an element. `in` transitions animate from the provided values, passed as parameters to the element's default values. `out` transitions animate from the element's default values to the provided values.\n *\n * https://svelte.dev/docs/svelte-transition#fly\n * @param {Element} node\n * @param {import('./public').FlyParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function fly(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst transform = style.transform === 'none' ? '' : style.transform;\n\tconst od = target_opacity * (1 - opacity);\n\tconst [xValue, xUnit] = split_css_unit(x);\n\tconst [yValue, yUnit] = split_css_unit(y);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * xValue}${xUnit}, ${(1 - t) * yValue}${yUnit});\n\t\t\topacity: ${target_opacity - od * u}`\n\t};\n}\n\n/**\n * Slides an element in and out.\n *\n * https://svelte.dev/docs/svelte-transition#slide\n * @param {Element} node\n * @param {import('./public').SlideParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function slide(node, { delay = 0, duration = 400, easing = cubicOut, axis = 'y' } = {}) {\n\tconst style = getComputedStyle(node);\n\tconst opacity = +style.opacity;\n\tconst primary_property = axis === 'y' ? 'height' : 'width';\n\tconst primary_property_value = parseFloat(style[primary_property]);\n\tconst secondary_properties = axis === 'y' ? ['top', 'bottom'] : ['left', 'right'];\n\tconst capitalized_secondary_properties = secondary_properties.map(\n\t\t(e) => `${e[0].toUpperCase()}${e.slice(1)}`\n\t);\n\tconst padding_start_value = parseFloat(style[`padding${capitalized_secondary_properties[0]}`]);\n\tconst padding_end_value = parseFloat(style[`padding${capitalized_secondary_properties[1]}`]);\n\tconst margin_start_value = parseFloat(style[`margin${capitalized_secondary_properties[0]}`]);\n\tconst margin_end_value = parseFloat(style[`margin${capitalized_secondary_properties[1]}`]);\n\tconst border_width_start_value = parseFloat(\n\t\tstyle[`border${capitalized_secondary_properties[0]}Width`]\n\t);\n\tconst border_width_end_value = parseFloat(\n\t\tstyle[`border${capitalized_secondary_properties[1]}Width`]\n\t);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t) =>\n\t\t\t'overflow: hidden;' +\n\t\t\t`opacity: ${Math.min(t * 20, 1) * opacity};` +\n\t\t\t`${primary_property}: ${t * primary_property_value}px;` +\n\t\t\t`padding-${secondary_properties[0]}: ${t * padding_start_value}px;` +\n\t\t\t`padding-${secondary_properties[1]}: ${t * padding_end_value}px;` +\n\t\t\t`margin-${secondary_properties[0]}: ${t * margin_start_value}px;` +\n\t\t\t`margin-${secondary_properties[1]}: ${t * margin_end_value}px;` +\n\t\t\t`border-${secondary_properties[0]}-width: ${t * border_width_start_value}px;` +\n\t\t\t`border-${secondary_properties[1]}-width: ${t * border_width_end_value}px;`\n\t};\n}\n\n/**\n * Animates the opacity and scale of an element. `in` transitions animate from an element's current (default) values to the provided values, passed as parameters. `out` transitions animate from the provided values to an element's default values.\n *\n * https://svelte.dev/docs/svelte-transition#scale\n * @param {Element} node\n * @param {import('./public').ScaleParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function scale(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst transform = style.transform === 'none' ? '' : style.transform;\n\tconst sd = 1 - start;\n\tconst od = target_opacity * (1 - opacity);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - sd * u});\n\t\t\topacity: ${target_opacity - od * u}\n\t\t`\n\t};\n}\n\n/**\n * Animates the stroke of an SVG element, like a snake in a tube. `in` transitions begin with the path invisible and draw the path to the screen over time. `out` transitions start in a visible state and gradually erase the path. `draw` only works with elements that have a `getTotalLength` method, like `<path>` and `<polyline>`.\n *\n * https://svelte.dev/docs/svelte-transition#draw\n * @param {SVGElement & { getTotalLength(): number }} node\n * @param {import('./public').DrawParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n\tlet len = node.getTotalLength();\n\tconst style = getComputedStyle(node);\n\tif (style.strokeLinecap !== 'butt') {\n\t\tlen += parseInt(style.strokeWidth);\n\t}\n\tif (duration === undefined) {\n\t\tif (speed === undefined) {\n\t\t\tduration = 800;\n\t\t} else {\n\t\t\tduration = len / speed;\n\t\t}\n\t} else if (typeof duration === 'function') {\n\t\tduration = duration(len);\n\t}\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_, u) => `\n\t\t\tstroke-dasharray: ${len};\n\t\t\tstroke-dashoffset: ${u * len};\n\t\t`\n\t};\n}\n\n/**\n * The `crossfade` function creates a pair of [transitions](https://svelte.dev/docs#template-syntax-element-directives-transition-fn) called `send` and `receive`. When an element is 'sent', it looks for a corresponding element being 'received', and generates a transition that transforms the element to its counterpart's position and fades it out. When an element is 'received', the reverse happens. If there is no counterpart, the `fallback` transition is used.\n *\n * https://svelte.dev/docs/svelte-transition#crossfade\n * @param {import('./public').CrossfadeParams & {\n * \tfallback?: (node: Element, params: import('./public').CrossfadeParams, intro: boolean) => import('./public').TransitionConfig;\n * }} params\n * @returns {[(node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig, (node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig]}\n */\nexport function crossfade({ fallback, ...defaults }) {\n\t/** @type {Map<any, Element>} */\n\tconst to_receive = new Map();\n\t/** @type {Map<any, Element>} */\n\tconst to_send = new Map();\n\t/**\n\t * @param {Element} from_node\n\t * @param {Element} node\n\t * @param {import('./public').CrossfadeParams} params\n\t * @returns {import('./public').TransitionConfig}\n\t */\n\tfunction crossfade(from_node, node, params) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = (d) => Math.sqrt(d) * 30,\n\t\t\teasing = cubicOut\n\t\t} = assign(assign({}, defaults), params);\n\t\tconst from = from_node.getBoundingClientRect();\n\t\tconst to = node.getBoundingClientRect();\n\t\tconst dx = from.left - to.left;\n\t\tconst dy = from.top - to.top;\n\t\tconst dw = from.width / to.width;\n\t\tconst dh = from.height / to.height;\n\t\tconst d = Math.sqrt(dx * dx + dy * dy);\n\t\tconst style = getComputedStyle(node);\n\t\tconst transform = style.transform === 'none' ? '' : style.transform;\n\t\tconst opacity = +style.opacity;\n\t\treturn {\n\t\t\tdelay,\n\t\t\tduration: is_function(duration) ? duration(d) : duration,\n\t\t\teasing,\n\t\t\tcss: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${\n\t\t\t\tt + (1 - t) * dh\n\t\t\t});\n\t\t\t`\n\t\t};\n\t}\n\n\t/**\n\t * @param {Map<any, Element>} items\n\t * @param {Map<any, Element>} counterparts\n\t * @param {boolean} intro\n\t * @returns {(node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig}\n\t */\n\tfunction transition(items, counterparts, intro) {\n\t\treturn (node, params) => {\n\t\t\titems.set(params.key, node);\n\t\t\treturn () => {\n\t\t\t\tif (counterparts.has(params.key)) {\n\t\t\t\t\tconst other_node = counterparts.get(params.key);\n\t\t\t\t\tcounterparts.delete(params.key);\n\t\t\t\t\treturn crossfade(other_node, node, params);\n\t\t\t\t}\n\t\t\t\t// if the node is disappearing altogether\n\t\t\t\t// (i.e. wasn't claimed by the other list)\n\t\t\t\t// then we need to supply an outro\n\t\t\t\titems.delete(params.key);\n\t\t\t\treturn fallback && fallback(node, params, intro);\n\t\t\t};\n\t\t};\n\t}\n\treturn [transition(to_send, to_receive, false), transition(to_receive, to_send, true)];\n}\n","<script lang=\"ts\">\n\t// @ts-nocheck\n\timport { fly } from 'svelte/transition';\n\timport { quintOut } from 'svelte/easing';\n\n\t// Export a prop through which you can set a desired transition\n\texport let transition: TransitionTypes = 'fade';\n\t// Pass in extra transition params\n\texport let toast = true;\n\n\tlet visible = true;\n\n\tconst colors = {\n\t\tblue: 'text-blue-500 bg-blue-100 dark:bg-blue-800 dark:text-blue-200',\n\t\tgreen: 'text-green-500 bg-green-100 dark:bg-green-800 dark:text-green-200',\n\t\tred: 'text-red-500 bg-red-100 dark:bg-red-800 dark:text-red-200',\n\t\tgray: 'text-gray-500 bg-gray-100 dark:bg-gray-800 dark:text-gray-200',\n\t\tpurple: 'text-purple-500 bg-purple-100 dark:bg-purple-800 dark:text-purple-200',\n\t\tindigo: 'text-indigo-500 bg-indigo-100 dark:bg-indigo-800 dark:text-indigo-200',\n\t\tyellow: 'text-yellow-500 bg-yellow-100 dark:bg-yellow-800 dark:text-yellow-200'\n\t};\n\n\tlet counter = 3;\n\n\t$: if (toast) {\n\t\tcounter = 3;\n\t\ttimeout();\n\t}\n\n\tfunction timeout() {\n\t\tif (--counter > 0) return setTimeout(timeout, 1000);\n\t\tvisible = false;\n\t}\n</script>\n\n{#if visible}\n\t<div\n\t\ttransition:fly={{ delay: 100, duration: 800, x: 0, y: -200, opacity: 0.1, easing: quintOut }}\n\t\tclass=\"flex flex-col items-center fixed top-0 left-0 m-4 w-5/6 p-4 text-neutral-800 bg-transparent\"\n\t>\n\t\t<div\n\t\t\tclass=\"flex-1 flex max-w-fit items-center py-4 px-8 bg-yellow-300/90 rounded-lg shadow-2xl drop-shadow-2xl\"\n\t\t>\n\t\t\t<div class=\"text-lg font-normal w-full\">\n\t\t\t\t<slot />\n\t\t\t\t<span class=\"opacity-40\">{counter}s</span>\n\t\t\t\t<slot name=\"extra\" />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n{/if}\n\n<style lang=\"postcss\"></style>\n","<svelte:options accessors={true} />\n\n<script>\n\timport Delegate from './Delegate.svelte';\n\texport let mounted = false;\n\texport let as = 0; // pass angle start if your Component depends on the angle of the arrow\n\texport let sx = 0; // adjust label left/right of the Component\n\texport let sy = 0;\n</script>\n\n<Delegate {mounted} {as} {sx} {sy} on:ready>Connect Me</Delegate>\n","class Pointer {\r\n    constructor(nativePointer) {\r\n        /** Unique ID for this pointer */\r\n        this.id = -1;\r\n        this.nativePointer = nativePointer;\r\n        this.pageX = nativePointer.pageX;\r\n        this.pageY = nativePointer.pageY;\r\n        this.clientX = nativePointer.clientX;\r\n        this.clientY = nativePointer.clientY;\r\n        if (self.Touch && nativePointer instanceof Touch) {\r\n            this.id = nativePointer.identifier;\r\n        }\r\n        else if (isPointerEvent(nativePointer)) {\r\n            // is PointerEvent\r\n            this.id = nativePointer.pointerId;\r\n        }\r\n    }\r\n    /**\r\n     * Returns an expanded set of Pointers for high-resolution inputs.\r\n     */\r\n    getCoalesced() {\r\n        if ('getCoalescedEvents' in this.nativePointer) {\r\n            const events = this.nativePointer\r\n                .getCoalescedEvents()\r\n                .map((p) => new Pointer(p));\r\n            // Firefox sometimes returns an empty list here. I'm not sure it's doing the right thing.\r\n            // https://github.com/w3c/pointerevents/issues/409\r\n            if (events.length > 0)\r\n                return events;\r\n        }\r\n        return [this];\r\n    }\r\n}\r\nconst isPointerEvent = (event) => 'pointerId' in event;\r\nconst isTouchEvent = (event) => 'changedTouches' in event;\r\nconst noop = () => { };\r\n/**\r\n * Track pointers across a particular element\r\n */\r\nclass PointerTracker {\r\n    /**\r\n     * Track pointers across a particular element\r\n     *\r\n     * @param element Element to monitor.\r\n     * @param options\r\n     */\r\n    constructor(_element, { start = () => true, move = noop, end = noop, rawUpdates = false, avoidPointerEvents = false, } = {}) {\r\n        this._element = _element;\r\n        /**\r\n         * State of the tracked pointers when they were pressed/touched.\r\n         */\r\n        this.startPointers = [];\r\n        /**\r\n         * Latest state of the tracked pointers. Contains the same number of pointers, and in the same\r\n         * order as this.startPointers.\r\n         */\r\n        this.currentPointers = [];\r\n        /**\r\n         * Firefox has a bug where touch-based pointer events have a `buttons` of 0, when this shouldn't\r\n         * happen. https://bugzilla.mozilla.org/show_bug.cgi?id=1729440\r\n         *\r\n         * Usually we treat `buttons === 0` as no-longer-pressed. This set allows us to exclude these\r\n         * buggy Firefox events.\r\n         */\r\n        this._excludeFromButtonsCheck = new Set();\r\n        /**\r\n         * Listener for mouse/pointer starts.\r\n         *\r\n         * @param event This will only be a MouseEvent if the browser doesn't support pointer events.\r\n         */\r\n        this._pointerStart = (event) => {\r\n            if (isPointerEvent(event) && event.buttons === 0) {\r\n                // This is the buggy Firefox case. See _excludeFromButtonsCheck.\r\n                this._excludeFromButtonsCheck.add(event.pointerId);\r\n            }\r\n            else if (!(event.buttons & 1 /* LeftMouseOrTouchOrPenDown */)) {\r\n                return;\r\n            }\r\n            const pointer = new Pointer(event);\r\n            // If we're already tracking this pointer, ignore this event.\r\n            // This happens with mouse events when multiple buttons are pressed.\r\n            if (this.currentPointers.some((p) => p.id === pointer.id))\r\n                return;\r\n            if (!this._triggerPointerStart(pointer, event))\r\n                return;\r\n            // Add listeners for additional events.\r\n            // The listeners may already exist, but no harm in adding them again.\r\n            if (isPointerEvent(event)) {\r\n                const capturingElement = event.target && 'setPointerCapture' in event.target\r\n                    ? event.target\r\n                    : this._element;\r\n                capturingElement.setPointerCapture(event.pointerId);\r\n                this._element.addEventListener(this._rawUpdates ? 'pointerrawupdate' : 'pointermove', this._move);\r\n                this._element.addEventListener('pointerup', this._pointerEnd);\r\n                this._element.addEventListener('pointercancel', this._pointerEnd);\r\n            }\r\n            else {\r\n                // MouseEvent\r\n                window.addEventListener('mousemove', this._move);\r\n                window.addEventListener('mouseup', this._pointerEnd);\r\n            }\r\n        };\r\n        /**\r\n         * Listener for touchstart.\r\n         * Only used if the browser doesn't support pointer events.\r\n         */\r\n        this._touchStart = (event) => {\r\n            for (const touch of Array.from(event.changedTouches)) {\r\n                this._triggerPointerStart(new Pointer(touch), event);\r\n            }\r\n        };\r\n        /**\r\n         * Listener for pointer/mouse/touch move events.\r\n         */\r\n        this._move = (event) => {\r\n            if (!isTouchEvent(event) &&\r\n                (!isPointerEvent(event) ||\r\n                    !this._excludeFromButtonsCheck.has(event.pointerId)) &&\r\n                event.buttons === 0 /* None */) {\r\n                // This happens in a number of buggy cases where the browser failed to deliver a pointerup\r\n                // or pointercancel. If we see the pointer moving without any buttons down, synthesize an end.\r\n                // https://github.com/w3c/pointerevents/issues/407\r\n                // https://github.com/w3c/pointerevents/issues/408\r\n                this._pointerEnd(event);\r\n                return;\r\n            }\r\n            const previousPointers = this.currentPointers.slice();\r\n            const changedPointers = isTouchEvent(event)\r\n                ? Array.from(event.changedTouches).map((t) => new Pointer(t))\r\n                : [new Pointer(event)];\r\n            const trackedChangedPointers = [];\r\n            for (const pointer of changedPointers) {\r\n                const index = this.currentPointers.findIndex((p) => p.id === pointer.id);\r\n                if (index === -1)\r\n                    continue; // Not a pointer we're tracking\r\n                trackedChangedPointers.push(pointer);\r\n                this.currentPointers[index] = pointer;\r\n            }\r\n            if (trackedChangedPointers.length === 0)\r\n                return;\r\n            this._moveCallback(previousPointers, trackedChangedPointers, event);\r\n        };\r\n        /**\r\n         * Call the end callback for this pointer.\r\n         *\r\n         * @param pointer Pointer\r\n         * @param event Related event\r\n         */\r\n        this._triggerPointerEnd = (pointer, event) => {\r\n            // Main button still down?\r\n            // With mouse events, you get a mouseup per mouse button, so the left button might still be down.\r\n            if (!isTouchEvent(event) &&\r\n                event.buttons & 1 /* LeftMouseOrTouchOrPenDown */) {\r\n                return false;\r\n            }\r\n            const index = this.currentPointers.findIndex((p) => p.id === pointer.id);\r\n            // Not a pointer we're interested in?\r\n            if (index === -1)\r\n                return false;\r\n            this.currentPointers.splice(index, 1);\r\n            this.startPointers.splice(index, 1);\r\n            this._excludeFromButtonsCheck.delete(pointer.id);\r\n            // The event.type might be a 'move' event due to workarounds for weird mouse behaviour.\r\n            // See _move for details.\r\n            const cancelled = !(event.type === 'mouseup' ||\r\n                event.type === 'touchend' ||\r\n                event.type === 'pointerup');\r\n            this._endCallback(pointer, event, cancelled);\r\n            return true;\r\n        };\r\n        /**\r\n         * Listener for mouse/pointer ends.\r\n         *\r\n         * @param event This will only be a MouseEvent if the browser doesn't support pointer events.\r\n         */\r\n        this._pointerEnd = (event) => {\r\n            if (!this._triggerPointerEnd(new Pointer(event), event))\r\n                return;\r\n            if (isPointerEvent(event)) {\r\n                if (this.currentPointers.length)\r\n                    return;\r\n                this._element.removeEventListener(this._rawUpdates ? 'pointerrawupdate' : 'pointermove', this._move);\r\n                this._element.removeEventListener('pointerup', this._pointerEnd);\r\n                this._element.removeEventListener('pointercancel', this._pointerEnd);\r\n            }\r\n            else {\r\n                // MouseEvent\r\n                window.removeEventListener('mousemove', this._move);\r\n                window.removeEventListener('mouseup', this._pointerEnd);\r\n            }\r\n        };\r\n        /**\r\n         * Listener for touchend.\r\n         * Only used if the browser doesn't support pointer events.\r\n         */\r\n        this._touchEnd = (event) => {\r\n            for (const touch of Array.from(event.changedTouches)) {\r\n                this._triggerPointerEnd(new Pointer(touch), event);\r\n            }\r\n        };\r\n        this._startCallback = start;\r\n        this._moveCallback = move;\r\n        this._endCallback = end;\r\n        this._rawUpdates = rawUpdates && 'onpointerrawupdate' in window;\r\n        // Add listeners\r\n        if (self.PointerEvent && !avoidPointerEvents) {\r\n            this._element.addEventListener('pointerdown', this._pointerStart);\r\n        }\r\n        else {\r\n            this._element.addEventListener('mousedown', this._pointerStart);\r\n            this._element.addEventListener('touchstart', this._touchStart);\r\n            this._element.addEventListener('touchmove', this._move);\r\n            this._element.addEventListener('touchend', this._touchEnd);\r\n            this._element.addEventListener('touchcancel', this._touchEnd);\r\n        }\r\n    }\r\n    /**\r\n     * Remove all listeners.\r\n     */\r\n    stop() {\r\n        this._element.removeEventListener('pointerdown', this._pointerStart);\r\n        this._element.removeEventListener('mousedown', this._pointerStart);\r\n        this._element.removeEventListener('touchstart', this._touchStart);\r\n        this._element.removeEventListener('touchmove', this._move);\r\n        this._element.removeEventListener('touchend', this._touchEnd);\r\n        this._element.removeEventListener('touchcancel', this._touchEnd);\r\n        this._element.removeEventListener(this._rawUpdates ? 'pointerrawupdate' : 'pointermove', this._move);\r\n        this._element.removeEventListener('pointerup', this._pointerEnd);\r\n        this._element.removeEventListener('pointercancel', this._pointerEnd);\r\n        window.removeEventListener('mousemove', this._move);\r\n        window.removeEventListener('mouseup', this._pointerEnd);\r\n    }\r\n    /**\r\n     * Call the start callback for this pointer, and track it if the user wants.\r\n     *\r\n     * @param pointer Pointer\r\n     * @param event Related event\r\n     * @returns Whether the pointer is being tracked.\r\n     */\r\n    _triggerPointerStart(pointer, event) {\r\n        if (!this._startCallback(pointer, event))\r\n            return false;\r\n        this.currentPointers.push(pointer);\r\n        this.startPointers.push(pointer);\r\n        return true;\r\n    }\r\n}\n\nexport { PointerTracker as default };\n","// inspired by https://github.com/GoogleChromeLabs/pinch-zoom/blob/master/lib/pinch-zoom.ts\nimport PointerTracker from 'pointer-tracker';\nconst minScaleAttr = 'min-scale';\nfunction getDistance(a, b) {\n    if (!b)\n        return 0;\n    return Math.sqrt((b.clientX - a.clientX) ** 2 + (b.clientY - a.clientY) ** 2);\n}\nfunction getMidpoint(a, b) {\n    if (!b)\n        return a;\n    return {\n        clientX: (a.clientX + b.clientX) / 2,\n        clientY: (a.clientY + b.clientY) / 2\n    };\n}\nfunction getAbsoluteValue(value, max) {\n    if (typeof value === 'number')\n        return value;\n    if (value.trimRight().endsWith('%')) {\n        return (max * parseFloat(value)) / 100;\n    }\n    return parseFloat(value);\n}\nfunction createMatrix() {\n    // initialize a new 16 element 3D array matrix\n    return new DOMMatrix([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\n}\nfunction createPoint() {\n    return new DOMPoint();\n}\nconst MIN_SCALE = 0.01;\nexport default class PinchZoom {\n    // The element that we'll transform.\n    _node;\n    // Ideally this would be shadow DOM, but we don't have the browser\n    // support yet.\n    _parentEl;\n    // Current transform.\n    _transform = createMatrix();\n    _pointerTracker;\n    _handle = null;\n    static get observedAttributes() {\n        return [minScaleAttr];\n    }\n    /**\n     * handle - an optional handle element to grab by\n     */\n    constructor(node, { panAnywhere, handle } = {}) {\n        this._node = node;\n        this._parentEl = this._node.parentElement || document.body;\n        this._handle = handle;\n        // Watch for children changes.\n        // Note this won't fire for initial contents,\n        // so _stageElChange is also called in connectedCallback.\n        new MutationObserver(() => this._stageElChange()).observe(this._node, { childList: true });\n        // Watch for pointers (nodes[i] as HTMLElement)\n        this._pointerTracker = new PointerTracker(this._parentEl, {\n            eventListenerOptions: {\n                capture: false // catch the event before it goes to child in the DOM tree ?\n            },\n            start: (pointer, event) => {\n                // ignore single pointers on input / editable elements\n                if (this._pointerTracker.currentPointers.length === 0 &&\n                    (event.target instanceof HTMLInputElement || event.target.isContentEditable)) {\n                    return false;\n                }\n                if (this._pointerTracker.currentPointers.length === 2 || !this._parentEl)\n                    // We only want to track 2 pointers at most\n                    // there already exists 2 pointers, and now this would have been the 3rd pointer so let's stop here\n                    return false;\n                // if a parent contains dataset data-no-pan, then don't pan\n                if (event.target.closest('[data-no-pan]'))\n                    return false;\n                if (this._pointerTracker.currentPointers.length > 1) {\n                    // there already exists two pointers, and now this is the third pointer\n                    return false;\n                }\n                // else, start the tracking of the pointer\n                event.preventDefault();\n                event.stopPropagation();\n                return true;\n            },\n            move: (previousPointers, changedPointers, event) => {\n                // tracking purposes only, no action\n                if (this._pointerTracker.currentPointers.length === 0)\n                    return;\n                // If it's a single pointer in a child, return unless panAnywhere or Handle is set\n                if (!panAnywhere &&\n                    !this._handle &&\n                    this._pointerTracker.currentPointers.length === 1 &&\n                    !(event.target == this._parentEl || event.target == node))\n                    return;\n                // return if single pointer outide of an (optional) handle;\n                // if this._handle is set, then we only want to pan if the event target is contained within the handle\n                if (this._handle &&\n                    !this._handle?.contains(event.target) &&\n                    this._pointerTracker.currentPointers.length == 1)\n                    return;\n                // pan if single pointer on parent container or target node\n                // zoom if double pointer anywhere\n                event.preventDefault();\n                event.stopPropagation(); // continue exclusive rights over the pointer from DOM tree\n                this._onPointerMove(previousPointers, this._pointerTracker.currentPointers);\n            },\n            end: (pointer, event, cancelled) => { }\n        });\n        this._parentEl.addEventListener('wheel', (event) => this._onWheel(event));\n    }\n    destroy() {\n        this._pointerTracker.stop();\n    }\n    attributeChangedCallback(name, oldValue, newValue) {\n        if (name === minScaleAttr) {\n            if (this.scale < this.minScale) {\n                this.setTransform({ scale: this.minScale });\n            }\n        }\n    }\n    get minScale() {\n        const attrValue = this._node.getAttribute(minScaleAttr);\n        if (!attrValue)\n            return MIN_SCALE;\n        const value = parseFloat(attrValue);\n        if (Number.isFinite(value))\n            return Math.max(MIN_SCALE, value);\n        return MIN_SCALE;\n    }\n    set minScale(value) {\n        this._node.setAttribute(minScaleAttr, String(value));\n    }\n    connectedCallback() {\n        this._stageElChange();\n    }\n    get x() {\n        return this._transform.e;\n    }\n    get y() {\n        return this._transform.f;\n    }\n    get scale() {\n        return this._transform.a;\n    }\n    /**\n     * Change the scale, adjusting x/y by a given transform origin.\n     */\n    scaleTo(scale, opts = {}) {\n        let { originX = 0, originY = 0 } = opts;\n        const { relativeTo = 'content', allowChangeEvent = false } = opts;\n        const relativeToEl = relativeTo === 'content' ? this._parentEl : this._node;\n        // No content element? Fall back to just setting scale\n        if (!relativeToEl || !this._parentEl) {\n            this.setTransform({ scale, allowChangeEvent });\n            return;\n        }\n        const rect = relativeToEl.getBoundingClientRect();\n        originX = getAbsoluteValue(originX, rect.width);\n        originY = getAbsoluteValue(originY, rect.height);\n        if (relativeTo === 'content') {\n            originX += this.x;\n            originY += this.y;\n        }\n        else {\n            const currentRect = this._parentEl.getBoundingClientRect();\n            originX -= currentRect.left;\n            originY -= currentRect.top;\n        }\n        this._applyChange({\n            allowChangeEvent,\n            originX,\n            originY,\n            scaleDiff: scale / this.scale\n        });\n    }\n    /**\n     * Update the stage with a given scale/x/y.\n     */\n    setTransform(opts = {}) {\n        const { scale = this.scale, allowChangeEvent = false } = opts;\n        let { x = this.x, y = this.y } = opts;\n        // If we don't have an element to position, just set the value as given.\n        // We'll check bounds later.\n        if (!this._parentEl) {\n            this._updateTransform(scale, x, y, allowChangeEvent);\n            return;\n        }\n        // Get current layout\n        const thisBounds = this._node.getBoundingClientRect();\n        const parentElBounds = this._parentEl.getBoundingClientRect();\n        // Not displayed. May be disconnected or display:none.\n        // Just take the values, and we'll check bounds later.\n        if (!thisBounds.width || !thisBounds.height) {\n            this._updateTransform(scale, x, y, allowChangeEvent);\n            return;\n        }\n        // Create points for _parentEl.\n        let topLeft = createPoint();\n        topLeft.x = parentElBounds.left - thisBounds.left;\n        topLeft.y = parentElBounds.top - thisBounds.top;\n        let bottomRight = createPoint();\n        bottomRight.x = parentElBounds.width + topLeft.x;\n        bottomRight.y = parentElBounds.height + topLeft.y;\n        // Calculate the intended position of _parentEl.\n        const matrix = createMatrix()\n            .translate(x, y)\n            .scale(scale)\n            // Undo current transform\n            .multiply(this._transform.inverse());\n        topLeft = topLeft.matrixTransform(matrix);\n        bottomRight = bottomRight.matrixTransform(matrix);\n        // Ensure _parentEl can't move beyond out-of-bounds.\n        // Correct for x\n        // if (topLeft.x > thisBounds.width) {\n        // \tx += thisBounds.width - topLeft.x;\n        // } else if (bottomRight.x < 0) {\n        // \tx += -bottomRight.x;\n        // }\n        // Correct for y\n        // if (topLeft.y > thisBounds.height) {\n        // \ty += thisBounds.height - topLeft.y;\n        // } else if (bottomRight.y < 0) {\n        // \ty += -bottomRight.y;\n        // }\n        this._updateTransform(scale, x, y, allowChangeEvent);\n    }\n    /**\n     * Update transform values without checking bounds. This is only called in setTransform.\n     */\n    _updateTransform(scale, x, y, allowChangeEvent) {\n        // Avoid scaling below minimum\n        if (scale < this.minScale) {\n            scale = this.minScale;\n            return;\n        }\n        // Return if there's no change\n        if (scale === this.scale && x === this.x && y === this.y)\n            return;\n        this._transform.e = x;\n        this._transform.f = y;\n        this._transform.d = this._transform.a = scale;\n        // this._node.style.setProperty('--x', this.x + 'px');\n        // this._node.style.setProperty('--y', this.y + 'px');\n        // this._node.style.setProperty('--scale', this.scale + '');\n        this._node.style.transform = `translate(${x}px,${y}px) scale(${scale})`;\n        if (allowChangeEvent) {\n            const event = new Event('change', { bubbles: true });\n            this._node.dispatchEvent(event);\n        }\n    }\n    /**\n     * Called when the direct children of this element change.\n     * Until we have have shadow dom support across the board, we\n     * require a single element to be the child of <pinch-zoom>, and\n     * that's the element we pan/scale.\n     */\n    _stageElChange() {\n        this._parentEl = this._node.parentElement || document.body;\n        // Do a bounds check\n        this.setTransform({ allowChangeEvent: true });\n    }\n    _onWheel(event) {\n        if (!this._parentEl)\n            return;\n        // if (this._parentEl !== event.target) return;\n        event.preventDefault();\n        const currentRect = this._parentEl.getBoundingClientRect();\n        let { deltaY } = event;\n        const { ctrlKey, deltaMode } = event;\n        if (deltaMode === 1) {\n            // 1 is \"lines\", 0 is \"pixels\"\n            // Firefox uses \"lines\" for some types of mouse\n            deltaY *= 15;\n        }\n        // ctrlKey is true when pinch-zooming on a trackpad.\n        const divisor = ctrlKey ? 200 : 600;\n        const scaleDiff = 1 - deltaY / divisor;\n        this._applyChange({\n            scaleDiff,\n            originX: event.pageX - this._parentEl.offsetLeft - this._parentEl.clientWidth / 2,\n            originY: event.pageY - this._parentEl.offsetTop - this._parentEl.clientHeight / 2,\n            allowChangeEvent: true\n        });\n    }\n    _onPointerMove(previousPointers, currentPointers) {\n        if (!this._parentEl)\n            return;\n        // Combine next points with previous points\n        const currentRect = this._parentEl.getBoundingClientRect();\n        // For calculating panning movement\n        const prevMidpoint = getMidpoint(previousPointers[0], previousPointers[1]);\n        const newMidpoint = getMidpoint(currentPointers[0], currentPointers[1]);\n        // Midpoint within the element\n        const originX = prevMidpoint.clientX - currentRect.left - currentRect.width / 2;\n        const originY = prevMidpoint.clientY - currentRect.top - currentRect.height / 2;\n        // Calculate the desired change in scale\n        const prevDistance = getDistance(previousPointers[0], previousPointers[1]);\n        const newDistance = getDistance(currentPointers[0], currentPointers[1]);\n        const scaleDiff = prevDistance ? newDistance / prevDistance : 1;\n        this._applyChange({\n            originX,\n            originY,\n            scaleDiff,\n            panX: newMidpoint.clientX - prevMidpoint.clientX,\n            panY: newMidpoint.clientY - prevMidpoint.clientY,\n            allowChangeEvent: true\n        });\n    }\n    /** Transform the view & fire a change event */\n    _applyChange(opts = {}) {\n        const { panX = 0, panY = 0, originX = 0, originY = 0, scaleDiff = 1, allowChangeEvent = false } = opts;\n        const matrix = createMatrix()\n            // Translate according to panning.\n            .translate(panX, panY)\n            // Scale about the origin.\n            .translate(originX, originY)\n            // Apply current translate\n            // .translate(this.x, this.y) // moved to line below vvv\n            .scale(scaleDiff)\n            .translate(-originX, -originY)\n            // Apply current transform.\n            .multiply(this._transform);\n        // Convert the transform into basic translate & scale.\n        this.setTransform({\n            allowChangeEvent,\n            scale: matrix.a,\n            x: matrix.e,\n            y: matrix.f\n        });\n    }\n}\n","import pinchZoom from './pinchZoom';\n// Svelte action directive\n// see: https://svelte.dev/docs#template-syntax-element-directives-use-action\nexport const pzoom = (node, params) => {\n    let container = node.parentElement || document.body;\n    // ensure touch and select action defaults are disabled\n    container.style['touch-action'] = 'none'; // disable default mobile pin zoom\n    container.style['user-select'] = 'none'; // no highlighting\n    container.style['overflow'] = 'hidden'; // no scroll when child is bigger than parent\n    container.style['position'] = 'relative'; // node is relative to this html element\n    node.style['touch-action'] = 'none'; // disable default mobile pin zoom\n    node.style['user-select'] = 'none';\n    node.style['position'] = 'absolute';\n    node.style.width = '100%'; // makes the transfrom origin the same\n    node.style.height = '100%'; // otherwise the origin will be off, and I dont know yet how to correct for that\n    // node.style['transform'] = 'translate(var(--x), var(--y)) scale(var(--scale))';\n    // node.style['transform-origin'] = '0 0';\n    // node.style['will-change'] = 'transform';\n    let zoomer = new pinchZoom(node, {\n        handle: params?.handle,\n        panAnywhere: params?.panAnywhere\n    });\n    // listen on node HTMLElement\n    node.addEventListener('home', handleScaleToHome);\n    node.addEventListener('scaleTo', handleScaleTo);\n    node.addEventListener('change', handleScaleChange);\n    node.addEventListener('setTransform', handleSetTransform);\n    function handleScaleTo(val) {\n        zoomer.scaleTo(val, { allowChangeEvent: true });\n    }\n    function handleScaleToHome(e) {\n        zoomer.setTransform({ x: 0, y: 0, scale: 1, allowChangeEvent: true });\n    }\n    function handleSetTransform(e) {\n        zoomer.setTransform({\n            x: e.detail.x || 0,\n            y: e.detail.y || 0,\n            scale: e.detail.scale || 1,\n            allowChangeEvent: true\n        });\n    }\n    function handleScaleChange(e) {\n        const scale = e.target.style.transform.match(/scale\\((\\d+\\.?\\d*)\\)/)[1];\n        node.dispatchEvent(new CustomEvent('scale', {\n            detail: { scale }\n        }));\n    }\n    return {\n        update(params) {\n            // the value of `bar` has changed\n            zoomer.destroy(); // old one\n            zoomer = new pinchZoom(node, {\n                handle: params?.handle,\n                panAnywhere: params?.panAnywhere\n            });\n        },\n        destroy() {\n            // the node has been removed from the DOM\n            zoomer.destroy();\n            // remove scaleTo event listener\n            node.removeEventListener('home', handleScaleToHome);\n            // remove scale event listener\n            node.removeEventListener('change', handleScaleChange);\n            // remove scaleTo event listener\n            node.removeEventListener('scaleTo', handleScaleTo);\n            // remove setTransform event listener\n            node.removeEventListener('setTransform', handleSetTransform);\n        }\n    };\n};\n","// @ts-nocheck\nimport PointerTracker from '@douganderson444/pointer-tracker';\n\nexport function grabable(\n\tnodeEl,\n\t{ nodeData = {}, removeCurrentNode = () => null, scale = 1 } = {}\n) {\n\tlet top = 0;\n\tlet left = 0;\n\n\tlet shiftX;\n\tlet shiftY;\n\n\tlet pointerTracker = new PointerTracker(nodeEl, {\n\t\tstart(pointer, event) {\n\t\t\tleft = null;\n\t\t\ttop = null;\n\t\t\t// if (event.target !== nodeEl && event.target.parentNode !== nodeEl) return false; // only move the top HTML Node\n\t\t\tif (event.target instanceof HTMLInputElement || event.target.isContentEditable) return false; // skip editable elements\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tnodeEl.dispatchEvent(\n\t\t\t\tnew CustomEvent('started', {\n\t\t\t\t\tdetail: {}\n\t\t\t\t})\n\t\t\t);\n\n\t\t\t// capture the inital pointer offset within the event target\n\t\t\tshiftX = event.clientX - nodeEl.getBoundingClientRect().left || 0;\n\t\t\tshiftY = event.clientY - nodeEl.getBoundingClientRect().top || 0;\n\n\t\t\t// get current position\n\t\t\tleft = parseFloat(getComputedStyle(nodeEl)['left'].replace('px', '')) || 0;\n\t\t\ttop = parseFloat(getComputedStyle(nodeEl)['top'].replace('px', '')) || 0;\n\n\t\t\treturn true;\n\t\t},\n\t\tmove(previousPointers, changedPointers, event) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tnodeEl.style.cursor = 'grabbing';\n\n\t\t\t// auto scroll at edges\n\t\t\tif (pointerTracker.currentPointers[0].clientY > document.body.clientHeight - 20)\n\t\t\t\twindow.scrollBy(0, 20);\n\n\t\t\tif (pointerTracker.currentPointers[0].clientY < 20) window.scrollBy(0, -20);\n\t\t\tif (pointerTracker.currentPointers[0].clientX > document.body.clientWidth - 20)\n\t\t\t\twindow.scrollBy(20, 0);\n\n\t\t\tif (pointerTracker.currentPointers[0].clientX < 20) window.scrollBy(-20, 0);\n\n\t\t\tleft = left + (pointerTracker.currentPointers[0].pageX - previousPointers[0].pageX) / scale;\n\t\t\ttop = top + (pointerTracker.currentPointers[0].pageY - previousPointers[0].pageY) / scale;\n\n\t\t\tnodeData.x = left;\n\t\t\tnodeData.y = top;\n\n\t\t\t// update position in node Element\n\t\t\t// if not over dropzone\n\t\t\tnodeEl.dispatchEvent(\n\t\t\t\tnew CustomEvent('move', {\n\t\t\t\t\tdetail: {\n\t\t\t\t\t\t...nodeData,\n\t\t\t\t\t\tx: left,\n\t\t\t\t\t\ty: top,\n\t\t\t\t\t\toverDropZone: overDropZone(pointerTracker.currentPointers[0])\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\t\t},\n\t\tend(pointer, event, cancelled) {\n\t\t\t// temporarily reset to original position so you can get elementFromPoint underneath it\n\t\t\tnodeEl.style.left = 0;\n\t\t\tnodeEl.style.top = 0;\n\n\t\t\tlet zone = document\n\t\t\t\t.elementFromPoint(pointer.clientX, pointer.clientY)\n\t\t\t\t?.closest('[data-dropzone]');\n\n\t\t\tnodeEl.style.cursor = 'auto';\n\n\t\t\t// handle dropped on self (no data-dropzone found)\n\t\t\tif (!overDropZone(pointer, zone)) {\n\t\t\t\t// console.log('dropped on self');\n\t\t\t\t// handle relative drop on self,\n\t\t\t\tnodeEl?.dispatchEvent(\n\t\t\t\t\tnew CustomEvent('end', {\n\t\t\t\t\t\tdetail: {\n\t\t\t\t\t\t\t...nodeData,\n\t\t\t\t\t\t\t// set left and top back to last position since it was cleared (above)\n\t\t\t\t\t\t\tx: left,\n\t\t\t\t\t\t\ty: top\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// remove from old parent\n\t\t\tremoveCurrentNode();\n\n\t\t\t// add to new zone\n\t\t\tzone.dispatchEvent(\n\t\t\t\tnew CustomEvent('addChild', {\n\t\t\t\t\tdetail: {\n\t\t\t\t\t\tnodeData: {\n\t\t\t\t\t\t\t...nodeData,\n\t\t\t\t\t\t\tx: pointer.clientX - shiftX - zone.getBoundingClientRect().left,\n\t\t\t\t\t\t\ty: pointer.clientY - shiftY - zone.getBoundingClientRect().top\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\t\t},\n\t\tavoidPointerEvents: true,\n\t\teventListenerOptions: { capture: false }\n\t});\n\n\tfunction overDropZone(pointer, zone = null) {\n\t\tif (!zone)\n\t\t\tzone = document\n\t\t\t\t.elementFromPoint(pointer.clientX, pointer.clientY)\n\t\t\t\t?.closest('[data-dropzone]');\n\n\t\t// nodeEl is grabable <Node>\n\t\t// zone is <Group> dropzone\n\t\t// each <Node> has a parent that is a <Group> dropzone\n\t\t// if <Node> is dropped on current <Group> dropzone, return false\n\t\treturn (\n\t\t\t!!zone && // dropzone exists\n\t\t\tzone != nodeEl && // not dropped on self\n\t\t\tzone.parentNode != nodeEl && // not dropped on parent\n\t\t\tzone.parentNode?.id != nodeEl?.id && // sometime nodeEl disappeara and is removed from the DOM\n\t\t\t!nodeEl.contains(zone) &&\n\t\t\tzone != nodeEl.parentNode.closest('[data-dropzone]') // not dropped on current zone\n\t\t);\n\t}\n\n\treturn {\n\t\tupdate(params) {\n\t\t\t// the value of `bar` has changed\n\t\t\t({ nodeData, removeCurrentNode = () => null, scale = 1 } = params);\n\t\t},\n\n\t\tdestroy() {\n\t\t\t// the node has been removed from the DOM\n\t\t\tpointerTracker.stop();\n\t\t}\n\t};\n}\n","<script>\n\t// @ts-nocheck\n\n\timport { Canvas, EndPoint, generateLinkLabel } from '@douganderson444/svelte-plumb';\n\timport Skew from '$lib/components/Skew.svelte';\n\timport Toast from '$lib/components/Toast.svelte';\n\timport Delegate from '$lib/components/Delegate.svelte';\n\timport DemoDelegated from '$lib/components/DemoDelegated.svelte';\n\timport { pzoom } from '@douganderson444/panzoom-node';\n\timport { grabable } from '$lib/directives/grabable';\n\n\tlet types = { emojii: 'emojii', description: 'description' };\n\n\tlet data = {\n\t\tnodes: [\n\t\t\t{ id: 1, type: types.emojii, value: '🐱' },\n\t\t\t{ id: 2, type: types.emojii, value: '🦄' },\n\t\t\t{ id: 3, type: types.emojii, value: '🐐' },\n\t\t\t{ id: 4, type: types.description, value: 'GOAT' },\n\t\t\t{ id: 5, type: types.description, value: 'Cat' },\n\t\t\t{ id: 6, type: types.description, value: 'A very nice Unicorn' },\n\t\t\t{ id: 'absolute1', x: 0, y: 100 },\n\t\t\t{ id: 'absolute2', x: 100, y: 100 }\n\t\t],\n\t\tlinks: []\n\t};\n\n\t// set an initial link path\n\tdata.links = [\n\t\t{\n\t\t\tid: '2-to-6',\n\t\t\tsource: { id: '2' },\n\t\t\ttarget: { id: '6' },\n\t\t\topts: { label: { enabled: true, value: generateLinkLabel(data.nodes, '2', '6') } }\n\t\t}\n\t];\n\n\tlet opts = {\n\t\tlinks: {\n\t\t\tstrokeWidth: 1,\n\t\t\ttextStartOffset: 20\n\t\t}\n\t};\n\n\tlet toast = false;\n\tlet scale = 1;\n\n\tfunction handleConnected(e) {\n\t\ttoast = e.detail.source?.dataset?.value + ' to ' + e.detail.target?.dataset?.value;\n\t\tconsole.log(toast);\n\t}\n\n\tconst handleScaleChg = (e) => {\n\t\tscale = e.detail.scale;\n\t};\n</script>\n\n<div class=\"mb-4 ml-4 p-2 w-fit\">\n\t<div class=\"my-4 p-2 bg-blue-100 rounded-lg w-fit\">\n\t\t<a href=\"https://github.com/DougAnderson444/svelte-plumb\" class=\"font-bold m-2 underline\"\n\t\t\t>https://github.com/DougAnderson444/svelte-plumb</a\n\t\t>\n\t</div>\n\t<div class=\"my-4 p-2 bg-blue-100 rounded-lg w-fit\">\n\t\tby <a href=\"https://twitter.com/DougAnderson444\" class=\"font-bold underline\">@DougAnderson444</a\n\t\t>\n\t</div>\n\n\tMatch the picture to the words:\n</div>\n\n<div class=\"relative border-dashed border-2 border-sky-500 rounded-lg bg-slate-100/10 m-4  h-full\">\n\t<div use:pzoom={{ panAnywhere: true }} on:scale={handleScaleChg}>\n\t\t<Canvas bind:data {opts} {scale} let:connectable on:connected={handleConnected}>\n\t\t\t<div class=\"border border-red-500\">\n\t\t\t\t<div class=\"text-black font-bold m-4\">\n\t\t\t\t\tDirective is available within the slot as a slot prop.<br />\n\t\t\t\t\tTry scroll to zoom, drag to pan, and still connect!\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"flex flex-row justify-around \">\n\t\t\t\t\t{#each [...Object.entries(types)] as [type, desc], i}\n\t\t\t\t\t\t<div class=\"flex flex-col border rounded-lg m-4 p-4 items-center\">\n\t\t\t\t\t\t\t{#each data.nodes.filter((t) => t.type == type) as node (node.id)}\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"block m-2 cursor-pointer select-none w-fit\"\n\t\t\t\t\t\t\t\t\tuse:connectable={{ dataset: { value: node.value } }}\n\t\t\t\t\t\t\t\t\tdata-no-pan\n\t\t\t\t\t\t\t\t\tid={node?.id ? node?.id : null}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{node.value}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/each}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"relative flex flex-row justify-around h-96\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tid=\"absolute1\"\n\t\t\t\t\t\tclass=\"flex flex-col border rounded-lg m-4 p-4 items-center\"\n\t\t\t\t\t\tuse:connectable={{ startPoint: { component: DemoDelegated, show: true } }}\n\t\t\t\t\t\tuse:grabable={{ nodeData: { id: 'absolute1' }, scale: scale }}\n\t\t\t\t\t\ton:move={(e) => {\n\t\t\t\t\t\t\t// set data.nodes where node.id == e.detail.id\n\t\t\t\t\t\t\tdata.nodes.find((n) => n.id == 'absolute1').x = e.detail.x;\n\t\t\t\t\t\t\tdata.nodes.find((n) => n.id == 'absolute1').y = e.detail.y;\n\t\t\t\t\t\t\tdata = data;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ton:end={(e) => {\n\t\t\t\t\t\t\tdata.nodes.find((n) => n.id == 'absolute1').x = e.detail.x;\n\t\t\t\t\t\t\tdata.nodes.find((n) => n.id == 'absolute1').y = e.detail.y;\n\t\t\t\t\t\t\tdata = data;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle=\"\n                position: absolute;\n\t\t\t\tuser-select: none;\n\t\t\t\tbox-shadow: 10px 5px 5px black;\n                width: 250px;\n\t\t\t\theight: 100px;\n\t\t\t\tleft: {data.nodes.find((n) => n.id == 'absolute1')?.x || 0}px;\n                top: {data.nodes.find((n) => n.id == 'absolute1')?.y || 0}px;\n\t\t\t\t--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n\t\t\t\t--tw-ring-offset-shadow: 0 0 #0000;\n\t\t\t\t--tw-ring-shadow: 0 0 #0000;\n\t\t\t\t--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);\n\t\t\t\tbox-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n\t\t\t\t\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"block m-2 select-none w-fit\">\n\t\t\t\t\t\t\tConnect Me <br />Drag me<br />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tid=\"absolute2\"\n\t\t\t\t\t\tclass=\"flex flex-col border rounded-lg m-4 p-4 items-center w-48\"\n\t\t\t\t\t\tstyle=\"left: {data.nodes.find((n) => n.id == 'absolute2')?.x || 0}px;\n\t\t\t                top: {data.nodes.find((n) => n.id == 'absolute2')?.y || 0}px;\"\n\t\t\t\t\t\tuse:connectable={{ startPoint: { component: DemoDelegated, show: true } }}\n\t\t\t\t\t\tuse:grabable={{ nodeData: { id: 'absolute2' }, scale: scale }}\n\t\t\t\t\t\ton:move={(e) => {\n\t\t\t\t\t\t\t// set data.nodes where node.id == e.detail.id\n\t\t\t\t\t\t\tdata.nodes.find((n) => n.id == 'absolute2').x = e.detail.x;\n\t\t\t\t\t\t\tdata.nodes.find((n) => n.id == 'absolute2').y = e.detail.y;\n\t\t\t\t\t\t\tdata = data;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ton:end={(e) => {\n\t\t\t\t\t\t\tdata.nodes.find((n) => n.id == 'absolute2').x = e.detail.x;\n\t\t\t\t\t\t\tdata.nodes.find((n) => n.id == 'absolute2').y = e.detail.y;\n\t\t\t\t\t\t\tdata = data;\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"absolute block m-2 cursor-pointer select-none w-fit\">\n\t\t\t\t\t\t\t...Starts out fixed, then switches to<br /> movable endpoint once connected.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div\n\t\t\t\t\tclass=\"flex flex-row flex-wrap border rounded-lg mt-20 m-4 p-4 justify-between bg-neutral-50\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"inline-flex m-2 p-4 border rounded-lg w-1/3 bg-amber-100\">\n\t\t\t\t\t\tCan we also have an external endpoint?\n\t\t\t\t\t\t<EndPoint position={'right'} {connectable} />\n\t\t\t\t\t\t<EndPoint position={'left'} {connectable} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"relative inline-flex m-2 p-4 border rounded-lg w-1/3 bg-red-300\">\n\t\t\t\t\t\tNo, libraries cannot do that. Just kidding.\n\t\t\t\t\t\t<EndPoint position={'left'} {connectable} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"relative flex-0 m-2 ml-auto p-4 border rounded-lg  w-1/3 bg-green-300\">\n\t\t\t\t\t\tYes, pass the connectable directive to the component. They can even be <Skew\n\t\t\t\t\t\t\t>custom</Skew\n\t\t\t\t\t\t>, like this one.\n\t\t\t\t\t\t<EndPoint position={'left'} {connectable}>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"h-4 w-4 bg-white rounded-full border-4 border-black hover:ring hover:ring-green-800\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</EndPoint>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<!-- Optional -->\n\t\t\t<!-- Default cursor indicator marker below can be overriden in Parent Component slot -->\n\t\t\t<div\n\t\t\t\tslot=\"marker\"\n\t\t\t\tclass=\"h-4 w-4 md:h-16 md:w-16 p-8 rounded-full shadow-xl opacity-80 select-none border-[1em] md:border-[1em]\"\n\t\t\t/>\n\n\t\t\t{#if toast}\n\t\t\t\t{#key toast}\n\t\t\t\t\t<Toast bind:toast>\n\t\t\t\t\t\t{toast}\n\t\t\t\t\t</Toast>\n\t\t\t\t{/key}\n\t\t\t{/if}\n\t\t</Canvas>\n\t</div>\n</div>\n\n<!-- Control Panel for Links -->\n\n<div class=\"m-4 p-4 bg-slate-100 rounded-lg shadow-lg border\">\n\t<div class=\"text-lg font-bold underline\">Control Panel</div>\n\t<div class=\"my-4 p-4 bg-blue-200/50 rounded-lg shadow\">\n\t\t<label class=\"\"\n\t\t\t><span class=\"p-2\">Stroke Width</span>\n\t\t\t<input type=\"range\" bind:value={opts.links.strokeWidth} min=\"1\" max=\"50\" />\n\t\t</label>\n\t</div>\n\t<div class=\"my-4 p-4 bg-blue-200/50 rounded-lg shadow\">\n\t\t<label class=\"\"\n\t\t\t><span class=\"p-2\">Stroke Opacity</span>\n\t\t\t<input type=\"range\" bind:value={opts.links.strokeOpacity} min=\"0.1\" max=\"1\" step=\"0.1\" />\n\t\t</label>\n\t</div>\n\t<div class=\"my-4 p-4 bg-blue-200/50 rounded-lg shadow\">\n\t\t<label class=\"\"\n\t\t\t><span class=\"p-2\">Start Distance {opts.links.textStartOffset}</span>\n\t\t\t<input type=\"range\" bind:value={opts.links.textStartOffset} min=\"0%\" max=\"90%\" step=\"5%\" />\n\t\t</label>\n\t</div>\n</div>\n\n<pre>\n\t{JSON.stringify({ data }, null, 2)}\n</pre>\n"],"names":["create_each_block","isPointerEvent","isTouchEvent","noop","Pointer","ctx","getDistance","linear","now","create_if_block_3","create_if_block_1","_c","_b","_a","_f","_e","_d","create_if_block_2","create_if_block","link","node","PointerTracker","pinchZoom","params"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,6,7,8,9,20,23,24,25]}