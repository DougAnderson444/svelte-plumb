{"version":3,"file":"singletons-b7678cee.js","sources":["../../../../../../node_modules/@sveltejs/kit/src/runtime/paths.js","../../../../../../node_modules/@sveltejs/kit/src/runtime/env.js","../../../../../../node_modules/@sveltejs/kit/src/runtime/client/constants.js","../../../../../../node_modules/@sveltejs/kit/src/runtime/client/utils.js","../../../../../../node_modules/@sveltejs/kit/src/runtime/client/singletons.js"],"sourcesContent":["/** @type {string} */\nexport let base = '';\n\n/** @type {string} */\nexport let assets = '';\n\n/** @param {{ base: string, assets: string }} paths */\nexport function set_paths(paths) {\n\tbase = paths.base;\n\tassets = paths.assets || base;\n}\n","export let building = false;\nexport let version = '';\n\n/** @param {boolean} value */\nexport function set_building(value) {\n\tbuilding = value;\n}\n\n/** @param {string} value */\nexport function set_version(value) {\n\tversion = value;\n}\n","export const SCROLL_KEY = 'sveltekit:scroll';\nexport const INDEX_KEY = 'sveltekit:index';\n\nexport const PRELOAD_PRIORITIES = /** @type {const} */ ({\n\ttap: 1,\n\thover: 2,\n\tviewport: 3,\n\teager: 4,\n\toff: -1\n});\n","import { BROWSER, DEV } from 'esm-env';\nimport { writable } from 'svelte/store';\nimport { assets } from '../paths.js';\nimport { version } from '../env.js';\nimport { PRELOAD_PRIORITIES } from './constants.js';\n\n/* global __SVELTEKIT_APP_VERSION_FILE__, __SVELTEKIT_APP_VERSION_POLL_INTERVAL__ */\n\n/** @param {HTMLDocument} doc */\nexport function get_base_uri(doc) {\n\tlet baseURI = doc.baseURI;\n\n\tif (!baseURI) {\n\t\tconst baseTags = doc.getElementsByTagName('base');\n\t\tbaseURI = baseTags.length ? baseTags[0].href : doc.URL;\n\t}\n\n\treturn baseURI;\n}\n\nexport function scroll_state() {\n\treturn {\n\t\tx: pageXOffset,\n\t\ty: pageYOffset\n\t};\n}\n\nconst warned = new WeakSet();\n\n/** @typedef {keyof typeof valid_link_options} LinkOptionName */\n\nconst valid_link_options = /** @type {const} */ ({\n\t'preload-code': ['', 'off', 'tap', 'hover', 'viewport', 'eager'],\n\t'preload-data': ['', 'off', 'tap', 'hover'],\n\tnoscroll: ['', 'off'],\n\treload: ['', 'off']\n});\n\n/**\n * @template {LinkOptionName} T\n * @typedef {typeof valid_link_options[T][number]} ValidLinkOptions\n */\n\n/**\n * @template {LinkOptionName} T\n * @param {Element} element\n * @param {T} name\n */\nfunction link_option(element, name) {\n\tconst value = /** @type {ValidLinkOptions<T> | null} */ (\n\t\telement.getAttribute(`data-sveltekit-${name}`)\n\t);\n\n\tif (DEV) {\n\t\tvalidate_link_option(element, name, value);\n\t}\n\n\treturn value;\n}\n\n/**\n * @template {LinkOptionName} T\n * @template {ValidLinkOptions<T> | null} U\n * @param {Element} element\n * @param {T} name\n * @param {U} value\n */\nfunction validate_link_option(element, name, value) {\n\tif (value === null) return;\n\n\t// @ts-expect-error - includes is dumb\n\tif (!warned.has(element) && !valid_link_options[name].includes(value)) {\n\t\tconsole.error(\n\t\t\t`Unexpected value for ${name} â€” should be one of ${valid_link_options[name]\n\t\t\t\t.map((option) => JSON.stringify(option))\n\t\t\t\t.join(', ')}`,\n\t\t\telement\n\t\t);\n\n\t\twarned.add(element);\n\t}\n}\n\nconst levels = {\n\t...PRELOAD_PRIORITIES,\n\t'': PRELOAD_PRIORITIES.hover\n};\n\n/**\n * @param {Element} element\n * @returns {Element | null}\n */\nfunction parent_element(element) {\n\tlet parent = element.assignedSlot ?? element.parentNode;\n\n\t// @ts-expect-error handle shadow roots\n\tif (parent?.nodeType === 11) parent = parent.host;\n\n\treturn /** @type {Element} */ (parent);\n}\n\n/**\n * @param {Element} element\n * @param {Element} target\n */\nexport function find_anchor(element, target) {\n\twhile (element && element !== target) {\n\t\tif (element.nodeName.toUpperCase() === 'A') {\n\t\t\treturn /** @type {HTMLAnchorElement | SVGAElement} */ (element);\n\t\t}\n\n\t\telement = /** @type {Element} */ (parent_element(element));\n\t}\n}\n\n/**\n * @param {HTMLAnchorElement | SVGAElement} a\n * @param {string} base\n */\nexport function get_link_info(a, base) {\n\t/** @type {URL | undefined} */\n\tlet url;\n\n\ttry {\n\t\turl = new URL(a instanceof SVGAElement ? a.href.baseVal : a.href, document.baseURI);\n\t} catch {}\n\n\tconst has = {\n\t\trel_external: (a.getAttribute('rel') || '').split(/\\s+/).includes('external'),\n\t\tdownload: a.hasAttribute('download'),\n\t\ttarget: !!(a instanceof SVGAElement ? a.target.baseVal : a.target)\n\t};\n\n\tconst external =\n\t\t!url || is_external_url(url, base) || has.rel_external || has.target || has.download;\n\n\treturn { url, has, external };\n}\n\n/**\n * @param {HTMLFormElement | HTMLAnchorElement | SVGAElement} element\n */\nexport function get_router_options(element) {\n\t/** @type {ValidLinkOptions<'noscroll'> | null} */\n\tlet noscroll = null;\n\n\t/** @type {ValidLinkOptions<'preload-code'> | null} */\n\tlet preload_code = null;\n\n\t/** @type {ValidLinkOptions<'preload-data'> | null} */\n\tlet preload_data = null;\n\n\t/** @type {ValidLinkOptions<'reload'> | null} */\n\tlet reload = null;\n\n\t/** @type {Element} */\n\tlet el = element;\n\n\twhile (el && el !== document.documentElement) {\n\t\tif (preload_code === null) preload_code = link_option(el, 'preload-code');\n\t\tif (preload_data === null) preload_data = link_option(el, 'preload-data');\n\t\tif (noscroll === null) noscroll = link_option(el, 'noscroll');\n\t\tif (reload === null) reload = link_option(el, 'reload');\n\n\t\tel = /** @type {Element} */ (parent_element(el));\n\t}\n\n\treturn {\n\t\tpreload_code: levels[preload_code ?? 'off'],\n\t\tpreload_data: levels[preload_data ?? 'off'],\n\t\tnoscroll: noscroll === 'off' ? false : noscroll === '' ? true : null,\n\t\treload: reload === 'off' ? false : reload === '' ? true : null\n\t};\n}\n\n/** @param {any} value */\nexport function notifiable_store(value) {\n\tconst store = writable(value);\n\tlet ready = true;\n\n\tfunction notify() {\n\t\tready = true;\n\t\tstore.update((val) => val);\n\t}\n\n\t/** @param {any} new_value */\n\tfunction set(new_value) {\n\t\tready = false;\n\t\tstore.set(new_value);\n\t}\n\n\t/** @param {(value: any) => void} run */\n\tfunction subscribe(run) {\n\t\t/** @type {any} */\n\t\tlet old_value;\n\t\treturn store.subscribe((new_value) => {\n\t\t\tif (old_value === undefined || (ready && new_value !== old_value)) {\n\t\t\t\trun((old_value = new_value));\n\t\t\t}\n\t\t});\n\t}\n\n\treturn { notify, set, subscribe };\n}\n\nexport function create_updated_store() {\n\tconst { set, subscribe } = writable(false);\n\n\tconst interval = __SVELTEKIT_APP_VERSION_POLL_INTERVAL__;\n\n\t/** @type {NodeJS.Timeout} */\n\tlet timeout;\n\n\tasync function check() {\n\t\tif (DEV || !BROWSER) return false;\n\n\t\tclearTimeout(timeout);\n\n\t\tif (interval) timeout = setTimeout(check, interval);\n\n\t\tconst res = await fetch(`${assets}/${__SVELTEKIT_APP_VERSION_FILE__}`, {\n\t\t\theaders: {\n\t\t\t\tpragma: 'no-cache',\n\t\t\t\t'cache-control': 'no-cache'\n\t\t\t}\n\t\t});\n\n\t\tif (res.ok) {\n\t\t\tconst data = await res.json();\n\t\t\tconst updated = data.version !== version;\n\n\t\t\tif (updated) {\n\t\t\t\tset(true);\n\t\t\t\tclearTimeout(timeout);\n\t\t\t}\n\n\t\t\treturn updated;\n\t\t} else {\n\t\t\tthrow new Error(`Version check failed: ${res.status}`);\n\t\t}\n\t}\n\n\tif (interval) timeout = setTimeout(check, interval);\n\n\treturn {\n\t\tsubscribe,\n\t\tcheck\n\t};\n}\n\n/**\n * @param {URL} url\n * @param {string} base\n */\nexport function is_external_url(url, base) {\n\treturn url.origin !== location.origin || !url.pathname.startsWith(base);\n}\n","import { writable } from 'svelte/store';\nimport { create_updated_store, notifiable_store } from './utils.js';\n\n/** @type {import('./types').Client} */\nexport let client;\n\n/**\n * @param {{\n *   client: import('./types').Client;\n * }} opts\n */\nexport function init(opts) {\n\tclient = opts.client;\n}\n\nexport const stores = {\n\turl: notifiable_store({}),\n\tpage: notifiable_store({}),\n\tnavigating: writable(/** @type {import('types').Navigation | null} */ (null)),\n\tupdated: create_updated_store()\n};\n"],"names":["base"],"mappings":";AACO,IAAI,OAAO;AAGX,IAAI,SAAS;AAGb,SAAS,UAAU,OAAO;AAChC,SAAO,MAAM;AACb,WAAS,MAAM,UAAU;AAC1B;ACTO,IAAI,UAAU;AAQd,SAAS,YAAY,OAAO;AAClC,YAAU;AACX;ACXY,MAAC,aAAa;AACd,MAAC,YAAY;AAEb,MAAC;AAAA;AAAA,EAA2C;AAAA,IACvD,KAAK;AAAA,IACL,OAAO;AAAA,IACP,UAAU;AAAA,IACV,OAAO;AAAA,IACP,KAAK;AAAA,EACN;AAAA;ACAO,SAAS,aAAa,KAAK;AACjC,MAAI,UAAU,IAAI;AAElB,MAAI,CAAC,SAAS;AACb,UAAM,WAAW,IAAI,qBAAqB,MAAM;AAChD,cAAU,SAAS,SAAS,SAAS,CAAC,EAAE,OAAO,IAAI;AAAA,EACnD;AAED,SAAO;AACR;AAEO,SAAS,eAAe;AAC9B,SAAO;AAAA,IACN,GAAG;AAAA,IACH,GAAG;AAAA,EACL;AACA;AAuBA,SAAS,YAAY,SAAS,MAAM;AACnC,QAAM;AAAA;AAAA,IACL,QAAQ,aAAa,kBAAkB,MAAM;AAAA;AAO9C,SAAO;AACR;AAyBA,MAAM,SAAS;AAAA,EACd,GAAG;AAAA,EACH,IAAI,mBAAmB;AACxB;AAMA,SAAS,eAAe,SAAS;AAChC,MAAI,SAAS,QAAQ,gBAAgB,QAAQ;AAG7C,OAAI,iCAAQ,cAAa;AAAI,aAAS,OAAO;AAE7C;AAAA;AAAA,IAA+B;AAAA;AAChC;AAMO,SAAS,YAAY,SAAS,QAAQ;AAC5C,SAAO,WAAW,YAAY,QAAQ;AACrC,QAAI,QAAQ,SAAS,YAAW,MAAO,KAAK;AAC3C;AAAA;AAAA,QAAuD;AAAA;AAAA,IACvD;AAED;AAAA,IAAkC,eAAe,OAAO;AAAA,EACxD;AACF;AAMO,SAAS,cAAc,GAAGA,OAAM;AAEtC,MAAI;AAEJ,MAAI;AACH,UAAM,IAAI,IAAI,aAAa,cAAc,EAAE,KAAK,UAAU,EAAE,MAAM,SAAS,OAAO;AAAA,EAClF,QAAC;AAAA,EAAQ;AAEV,QAAM,MAAM;AAAA,IACX,eAAe,EAAE,aAAa,KAAK,KAAK,IAAI,MAAM,KAAK,EAAE,SAAS,UAAU;AAAA,IAC5E,UAAU,EAAE,aAAa,UAAU;AAAA,IACnC,QAAQ,CAAC,EAAE,aAAa,cAAc,EAAE,OAAO,UAAU,EAAE;AAAA,EAC7D;AAEC,QAAM,WACL,CAAC,OAAO,gBAAgB,KAAKA,KAAI,KAAK,IAAI,gBAAgB,IAAI,UAAU,IAAI;AAE7E,SAAO,EAAE,KAAK,KAAK;AACpB;AAKO,SAAS,mBAAmB,SAAS;AAE3C,MAAI,WAAW;AAGf,MAAI,eAAe;AAGnB,MAAI,eAAe;AAGnB,MAAI,SAAS;AAGb,MAAI,KAAK;AAET,SAAO,MAAM,OAAO,SAAS,iBAAiB;AAC7C,QAAI,iBAAiB;AAAM,qBAAe,YAAY,IAAI,cAAc;AACxE,QAAI,iBAAiB;AAAM,qBAAe,YAAY,IAAI,cAAc;AACxE,QAAI,aAAa;AAAM,iBAAW,YAAY,IAAI,UAAU;AAC5D,QAAI,WAAW;AAAM,eAAS,YAAY,IAAI,QAAQ;AAEtD;AAAA,IAA6B,eAAe,EAAE;AAAA,EAC9C;AAED,SAAO;AAAA,IACN,cAAc,OAAO,gBAAgB,KAAK;AAAA,IAC1C,cAAc,OAAO,gBAAgB,KAAK;AAAA,IAC1C,UAAU,aAAa,QAAQ,QAAQ,aAAa,KAAK,OAAO;AAAA,IAChE,QAAQ,WAAW,QAAQ,QAAQ,WAAW,KAAK,OAAO;AAAA,EAC5D;AACA;AAGO,SAAS,iBAAiB,OAAO;AACvC,QAAM,QAAQ,SAAS,KAAK;AAC5B,MAAI,QAAQ;AAEZ,WAAS,SAAS;AACjB,YAAQ;AACR,UAAM,OAAO,CAAC,QAAQ,GAAG;AAAA,EACzB;AAGD,WAAS,IAAI,WAAW;AACvB,YAAQ;AACR,UAAM,IAAI,SAAS;AAAA,EACnB;AAGD,WAAS,UAAU,KAAK;AAEvB,QAAI;AACJ,WAAO,MAAM,UAAU,CAAC,cAAc;AACrC,UAAI,cAAc,UAAc,SAAS,cAAc,WAAY;AAClE,YAAK,YAAY;MACjB;AAAA,IACJ,CAAG;AAAA,EACD;AAED,SAAO,EAAE,QAAQ,KAAK;AACvB;AAEO,SAAS,uBAAuB;AACtC,QAAM,EAAE,KAAK,UAAW,IAAG,SAAS,KAAK;AAKzC,MAAI;AAEJ,iBAAe,QAAQ;AAGtB,iBAAa,OAAO;AAIpB,UAAM,MAAM,MAAM,MAAM,GAAG,UAAU,uBAAkC;AAAA,MACtE,SAAS;AAAA,QACR,QAAQ;AAAA,QACR,iBAAiB;AAAA,MACjB;AAAA,IACJ,CAAG;AAED,QAAI,IAAI,IAAI;AACX,YAAM,OAAO,MAAM,IAAI;AACvB,YAAM,UAAU,KAAK,YAAY;AAEjC,UAAI,SAAS;AACZ,YAAI,IAAI;AACR,qBAAa,OAAO;AAAA,MACpB;AAED,aAAO;AAAA,IACV,OAAS;AACN,YAAM,IAAI,MAAM,yBAAyB,IAAI,QAAQ;AAAA,IACrD;AAAA,EACD;AAID,SAAO;AAAA,IACN;AAAA,IACA;AAAA,EACF;AACA;AAMO,SAAS,gBAAgB,KAAKA,OAAM;AAC1C,SAAO,IAAI,WAAW,SAAS,UAAU,CAAC,IAAI,SAAS,WAAWA,KAAI;AACvE;ACrPO,SAAS,KAAK,MAAM;AACjB,OAAK;AACf;AAEY,MAAC,SAAS;AAAA,EACrB,KAAK,iBAAiB,EAAE;AAAA,EACxB,MAAM,iBAAiB,EAAE;AAAA,EACzB,YAAY;AAAA;AAAA,IAA2D;AAAA,EAAM;AAAA,EAC7E,SAAS,qBAAsB;AAChC;"}